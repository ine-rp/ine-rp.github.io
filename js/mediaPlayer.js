// Copyright Google Inc. All Rights Reserved.
(function() { 'use strict';var k,aa=aa||{},m=this,ba=function(a){return void 0!==a},ca=function(){},da=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&
"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},ea=function(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length},r=function(a){return"string"==typeof a},fa=function(a){return"number"==typeof a},ga=function(a,b,c){return a.call.apply(a.bind,arguments)},ha=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,
2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},ia=function(a,b,c){ia=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ga:ha;return ia.apply(null,arguments)},t=Date.now||function(){return+new Date},u=function(a,b){var c=a.split("."),d=m;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&ba(b)?d[e]=
b:d=d[e]?d[e]:d[e]={}},v=function(a,b){function c(){}c.prototype=b.prototype;a.C=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Fg=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];b.prototype[c].apply(a,g)}};var cast=m.cast||{};var ja=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ja);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};v(ja,Error);ja.prototype.name="CustomError";var ka=function(a,b){var c=String(b).toLowerCase(),d=String(a.substr(0,b.length)).toLowerCase();return 0==(c<d?-1:c==d?0:1)},la=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},ma=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},w=function(a,b){return-1!=a.indexOf(b)},na=function(a,b){return a<b?-1:a>b?1:0};var oa=function(a,b){b.unshift(a);ja.call(this,la.apply(null,b));b.shift()};v(oa,ja);oa.prototype.name="AssertionError";var pa=function(a,b){throw new oa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var qa=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(r(a))return r(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ra=Array.prototype.lastIndexOf?function(a,b,c){return Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(r(a))return r(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=
c;c--)if(c in a&&a[c]===b)return c;return-1},sa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},ua=function(a){var b;a:{b=ta;for(var c=a.length,d=r(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:r(a)?a.charAt(b):a[b]},va=function(a,b){var c=qa(a,b),d;(d=0<=c)&&Array.prototype.splice.call(a,c,1);return d},wa=function(a){return Array.prototype.concat.apply(Array.prototype,
arguments)},xa=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},ya=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(ea(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}},Aa=function(a,b){a.sort(b||za)},za=function(a,b){return a>b?1:a<b?-1:0};var Ba=function(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1},Ca=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Da=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Fa=function(a){return null!==a&&"withCredentials"in a},Ga="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ha=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ga.length;f++)c=Ga[f],Object.prototype.hasOwnProperty.call(d,
c)&&(a[c]=d[c])}};var x;a:{var Ia=m.navigator;if(Ia){var Ja=Ia.userAgent;if(Ja){x=Ja;break a}}x=""};var Ka="StopIteration"in m?m.StopIteration:{message:"StopIteration",stack:""},La=function(){};La.prototype.next=function(){throw Ka;};La.prototype.ai=function(){return this};var Ma=function(a,b){this.Na={};this.$=[];this.xa=this.K=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};k=Ma.prototype;k.Oc=function(){return this.K};k.Ba=function(){Na(this);for(var a=[],b=0;b<this.$.length;b++)a.push(this.Na[this.$[b]]);return a};k.Ka=function(){Na(this);return this.$.concat()};k.ud=function(a){return Oa(this.Na,a)};
k.S=function(a,b){if(this===a)return!0;if(this.K!=a.Oc())return!1;var c=b||Pa;Na(this);for(var d,e=0;d=this.$[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};var Pa=function(a,b){return a===b};Ma.prototype.bb=function(){return 0==this.K};Ma.prototype.clear=function(){this.Na={};this.xa=this.K=this.$.length=0};Ma.prototype.remove=function(a){return Oa(this.Na,a)?(delete this.Na[a],this.K--,this.xa++,this.$.length>2*this.K&&Na(this),!0):!1};
var Na=function(a){if(a.K!=a.$.length){for(var b=0,c=0;b<a.$.length;){var d=a.$[b];Oa(a.Na,d)&&(a.$[c++]=d);b++}a.$.length=c}if(a.K!=a.$.length){for(var e={},c=b=0;b<a.$.length;)d=a.$[b],Oa(e,d)||(a.$[c++]=d,e[d]=1),b++;a.$.length=c}};k=Ma.prototype;k.get=function(a,b){return Oa(this.Na,a)?this.Na[a]:b};k.set=function(a,b){Oa(this.Na,a)||(this.K++,this.$.push(a),this.xa++);this.Na[a]=b};
k.addAll=function(a){var b;a instanceof Ma?(b=a.Ka(),a=a.Ba()):(b=Da(a),a=Ca(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};k.forEach=function(a,b){for(var c=this.Ka(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new Ma(this)};k.ai=function(a){Na(this);var b=0,c=this.xa,d=this,e=new La;e.next=function(){if(c!=d.xa)throw Error("The map has changed since the iterator was created");if(b>=d.$.length)throw Ka;var e=d.$[b++];return a?e:d.Na[e]};return e};
var Oa=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Qa=function(a){if(a.Ba&&"function"==typeof a.Ba)return a.Ba();if(r(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ca(a)},Ra=function(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ea(a)||r(a))sa(a,b,c);else{var d;if(a.Ka&&"function"==typeof a.Ka)d=a.Ka();else if(a.Ba&&"function"==typeof a.Ba)d=void 0;else if(ea(a)||r(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=Da(a);for(var e=Qa(a),f=e.length,g=0;g<f;g++)b.call(c,
e[g],d&&d[g],a)}};var Sa=w(x,"Opera")||w(x,"OPR"),Ta=w(x,"Trident")||w(x,"MSIE"),Ua=w(x,"Edge"),Va=w(x,"Gecko")&&!(w(x.toLowerCase(),"webkit")&&!w(x,"Edge"))&&!(w(x,"Trident")||w(x,"MSIE"))&&!w(x,"Edge"),Wa=w(x.toLowerCase(),"webkit")&&!w(x,"Edge"),Xa=function(){var a=m.document;return a?a.documentMode:void 0},Ya;
a:{var Za="",$a=function(){var a=x;if(Va)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Ua)return/Edge\/([\d\.]+)/.exec(a);if(Ta)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Wa)return/WebKit\/(\S+)/.exec(a);if(Sa)return/(?:Version)[ \/]?(\S+)/.exec(a)}();$a&&(Za=$a?$a[1]:"");if(Ta){var ab=Xa();if(null!=ab&&ab>parseFloat(Za)){Ya=String(ab);break a}}Ya=Za}
var bb=Ya,cb={},db=function(a){var b;if(!(b=cb[a])){b=0;for(var c=ma(String(bb)).split("."),d=ma(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",l=/(\d*)(\D*)/g,n=/(\d*)(\D*)/g;do{var p=l.exec(g)||["","",""],q=n.exec(h)||["","",""];if(0==p[0].length&&0==q[0].length)break;b=na(0==p[1].length?0:parseInt(p[1],10),0==q[1].length?0:parseInt(q[1],10))||na(0==p[2].length,0==q[2].length)||na(p[2],q[2])}while(0==b)}b=cb[a]=0<=b}return b},eb=m.document,fb=eb&&
Ta?Xa()||("CSS1Compat"==eb.compatMode?parseInt(bb,10):5):void 0;var gb=function(a,b,c,d,e){this.reset(a,b,c,d,e)};gb.prototype.Xb=0;gb.prototype.Af=null;var hb=0;gb.prototype.reset=function(a,b,c,d,e){this.Xb="number"==typeof e?e:hb++;this.ld=d||t();this.qc=a;this.oh=b;this.nh=c;delete this.Af};gb.prototype.Gf=function(){return this.qc};gb.prototype.rg=function(a){this.qc=a};var ib=function(a){this.Oa=a;this.yd=this.rf=this.qc=this.Qd=null},jb=function(a,b){this.name=a;this.value=b};jb.prototype.toString=function(){return this.name};
var kb=new jb("SHOUT",1200),lb=new jb("SEVERE",1E3),mb=new jb("WARNING",900),nb=new jb("INFO",800),ob=new jb("CONFIG",700),pb=new jb("FINE",500),qb=[new jb("OFF",Infinity),kb,lb,mb,nb,ob,pb,new jb("FINER",400),new jb("FINEST",300),new jb("ALL",0)],rb=null,sb=function(a){if(!rb){rb={};for(var b=0,c;c=qb[b];b++)rb[c.value]=c,rb[c.name]=c}if(a in rb)return rb[a];for(b=0;b<qb.length;++b)if(c=qb[b],c.value<=a)return c;return null};ib.prototype.getName=function(){return this.Oa};
ib.prototype.getParent=function(){return this.Qd};ib.prototype.rg=function(a){this.qc=a};ib.prototype.Gf=function(){return this.qc};var tb=function(a){if(a.qc)return a.qc;if(a.Qd)return tb(a.Qd);pa("Root logger has no level set.");return null};
ib.prototype.log=function(a,b,c){if(a.value>=tb(this).value)for("function"==da(b)&&(b=b()),a=new gb(a,String(b),this.Oa),c&&(a.Af=c),c="log:"+a.oh,m.console&&(m.console.timeStamp?m.console.timeStamp(c):m.console.markTimeline&&m.console.markTimeline(c)),m.msWriteProfilerMark&&m.msWriteProfilerMark(c),c=this;c;){b=c;var d=a;if(b.yd)for(var e=0,f=void 0;f=b.yd[e];e++)f(d);c=c.getParent()}};ib.prototype.info=function(a,b){this.log(nb,a,b)};
var ub={},vb=null,wb=function(){vb||(vb=new ib(""),ub[""]=vb,vb.rg(ob))},xb=function(){wb();return vb},y=function(a){wb();var b;if(!(b=ub[a])){b=new ib(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=y(a.substr(0,c));c.rf||(c.rf={});c.rf[d]=b;b.Qd=c;ub[a]=b}return b};var yb=function(){this.Nh=t()},zb=new yb;yb.prototype.set=function(a){this.Nh=a};yb.prototype.reset=function(){this.set(t())};yb.prototype.get=function(){return this.Nh};var Ab=function(a){this.Xi=a||"";this.nj=zb};k=Ab.prototype;k.Cg=!0;k.Th=!0;k.jj=!0;k.ij=!0;k.Uh=!1;k.kj=!1;var Bb=function(a){return 10>a?"0"+a:String(a)},Cb=function(a,b){var c=(a.ld-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d},Db=function(a){Ab.call(this,a)};v(Db,Ab);var Eb=function(){this.aj=ia(this.ci,this);this.ue=new Db;this.ue.Th=!1;this.ue.Uh=!1;this.$g=this.ue.Cg=!1;this.mh="";this.yi={}};
Eb.prototype.ci=function(a){if(!this.yi[a.nh]){var b;b=this.ue;var c=[];c.push(b.Xi," ");if(b.Th){var d=new Date(a.ld);c.push("[",Bb(d.getFullYear()-2E3)+Bb(d.getMonth()+1)+Bb(d.getDate())+" "+Bb(d.getHours())+":"+Bb(d.getMinutes())+":"+Bb(d.getSeconds())+"."+Bb(Math.floor(d.getMilliseconds()/10)),"] ")}b.jj&&c.push("[",Cb(a,b.nj.get()),"s] ");b.ij&&c.push("[",a.nh,"] ");b.kj&&c.push("[",a.Gf().name,"] ");c.push(a.oh);b.Uh&&(d=a.Af)&&c.push("\n",d instanceof Error?d.message:d.toString());b.Cg&&c.push("\n");
b=c.join("");if(c=Fb)switch(a.Gf()){case kb:Gb(c,"info",b);break;case lb:Gb(c,"error",b);break;case mb:Gb(c,"warn",b);break;default:Gb(c,"debug",b)}else this.mh+=b}};var Hb=null,Fb=m.console,Gb=function(a,b,c){if(a[b])a[b](c);else a.log(c)};var Ib=/^(-)?P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+(?:\.\d+)?)S)?)?$/,Jb=function(a,b,c,d,e,f){r(a)?(this.dc="y"==a?b:0,this.Sb="m"==a?b:0,this.ib="d"==a?b:0,this.nb="h"==a?b:0,this.vb="n"==a?b:0,this.Bb="s"==a?b:0):(this.dc=a||0,this.Sb=b||0,this.ib=c||0,this.nb=d||0,this.vb=e||0,this.Bb=f||0)};Jb.prototype.S=function(a){return a.dc==this.dc&&a.Sb==this.Sb&&a.ib==this.ib&&a.nb==this.nb&&a.vb==this.vb&&a.Bb==this.Bb};
Jb.prototype.clone=function(){return new Jb(this.dc,this.Sb,this.ib,this.nb,this.vb,this.Bb)};Jb.prototype.Pb=function(){return 0==this.dc&&0==this.Sb&&0==this.ib&&0==this.nb&&0==this.vb&&0==this.Bb};Jb.prototype.add=function(a){this.dc+=a.dc;this.Sb+=a.Sb;this.ib+=a.ib;this.nb+=a.nb;this.vb+=a.vb;this.Bb+=a.Bb};var z=function(){this.wd=this.wd;this.Me=this.Me};z.prototype.wd=!1;z.prototype.M=function(){this.wd||(this.wd=!0,this.G())};z.prototype.G=function(){if(this.Me)for(;this.Me.length;)this.Me.shift()()};var Kb=function(a,b){a&&a.log(lb,b,void 0)},A=function(a,b){a&&a.log(mb,b,void 0)},B=function(a,b){a&&a.info(b,void 0)},Lb=function(a,b){a&&a.log(pb,b,void 0)};var Mb=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.yc=!1;this.Oh=!0};Mb.prototype.stopPropagation=function(){this.yc=!0};Mb.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Oh=!1};var Nb=function(a){Nb[" "](a);return a};Nb[" "]=ca;var Ob;(Ob=!Ta)||(Ob=9<=Number(fb));var Pb=Ob,Qb=Ta&&!db("9");!Wa||db("528");Va&&db("1.9b")||Ta&&db("8")||Sa&&db("9.5")||Wa&&db("528");Va&&!db("8")||Ta&&db("9");var Rb=function(a,b){Mb.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.ic=this.state=null;a&&this.ba(a,b)};v(Rb,Mb);
Rb.prototype.ba=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;if(e){if(Va){var f;a:{try{Nb(e.nodeName);f=!0;break a}catch(g){}f=!1}f||(e=null)}}else"mouseover"==c?e=a.fromElement:"mouseout"==c&&(e=a.toElement);this.relatedTarget=e;null===d?(this.offsetX=Wa||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=Wa||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:
a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.ic=a;a.defaultPrevented&&
this.preventDefault()};Rb.prototype.stopPropagation=function(){Rb.C.stopPropagation.call(this);this.ic.stopPropagation?this.ic.stopPropagation():this.ic.cancelBubble=!0};Rb.prototype.preventDefault=function(){Rb.C.preventDefault.call(this);var a=this.ic;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Qb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Sb="closure_listenable_"+(1E6*Math.random()|0),Tb=0;var Ub=function(a,b,c,d,e){this.listener=a;this.Se=null;this.src=b;this.type=c;this.sd=!!d;this.ze=e;this.key=++Tb;this.fd=this.re=!1},Vb=function(a){a.fd=!0;a.listener=null;a.Se=null;a.src=null;a.ze=null};var Wb=function(a){this.src=a;this.ha={};this.le=0};Wb.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.ha[f];a||(a=this.ha[f]=[],this.le++);var g=Xb(a,b,d,e);-1<g?(b=a[g],c||(b.re=!1)):(b=new Ub(b,this.src,f,!!d,e),b.re=c,a.push(b));return b};Wb.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.ha))return!1;var e=this.ha[a];b=Xb(e,b,c,d);return-1<b?(Vb(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.ha[a],this.le--),!0):!1};
var Yb=function(a,b){var c=b.type;c in a.ha&&va(a.ha[c],b)&&(Vb(b),0==a.ha[c].length&&(delete a.ha[c],a.le--))};Wb.prototype.Hf=function(a,b,c,d){a=this.ha[a.toString()];var e=-1;a&&(e=Xb(a,b,c,d));return-1<e?a[e]:null};Wb.prototype.hasListener=function(a,b){var c=ba(a),d=c?a.toString():"",e=ba(b);return Ba(this.ha,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].sd!=b))return!0;return!1})};
var Xb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.fd&&f.listener==b&&f.sd==!!c&&f.ze==d)return e}return-1};var Zb="closure_lm_"+(1E6*Math.random()|0),$b={},bc=0,C=function(a,b,c,d,e){if("array"==da(b))for(var f=0;f<b.length;f++)C(a,b[f],c,d,e);else c=cc(c),a&&a[Sb]?a.Xa.add(String(b),c,!1,d,e):dc(a,b,c,!1,d,e)},dc=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=ec(a);h||(a[Zb]=h=new Wb(a));c=h.add(b,c,d,e,f);if(!c.Se){d=fc();c.Se=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(gc(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");
bc++}},fc=function(){var a=hc,b=Pb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},ic=function(a,b,c,d,e){if("array"==da(b))for(var f=0;f<b.length;f++)ic(a,b[f],c,d,e);else c=cc(c),a&&a[Sb]?a.Xa.add(String(b),c,!0,d,e):dc(a,b,c,!0,d,e)},jc=function(a,b,c,d,e){if("array"==da(b))for(var f=0;f<b.length;f++)jc(a,b[f],c,d,e);else c=cc(c),a&&a[Sb]?a.Xa.remove(String(b),c,d,e):a&&(a=ec(a))&&(b=a.Hf(b,c,!!d,e))&&kc(b)},kc=function(a){if(!fa(a)&&
a&&!a.fd){var b=a.src;if(b&&b[Sb])Yb(b.Xa,a);else{var c=a.type,d=a.Se;b.removeEventListener?b.removeEventListener(c,d,a.sd):b.detachEvent&&b.detachEvent(gc(c),d);bc--;(c=ec(b))?(Yb(c,a),0==c.le&&(c.src=null,b[Zb]=null)):Vb(a)}}},gc=function(a){return a in $b?$b[a]:$b[a]="on"+a},mc=function(a,b,c,d){var e=!0;if(a=ec(a))if(b=a.ha[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.sd==c&&!f.fd&&(f=lc(f,d),e=e&&!1!==f)}return e},lc=function(a,b){var c=a.listener,d=a.ze||a.src;a.re&&kc(a);
return c.call(d,b)},hc=function(a,b){if(a.fd)return!0;if(!Pb){var c;if(!(c=b))a:{c=["window","event"];for(var d=m,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Rb(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(l){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,g=e.length-1;!c.yc&&0<=g;g--){c.currentTarget=e[g];var h=mc(e[g],f,!0,c),d=d&&
h}for(g=0;!c.yc&&g<e.length;g++)c.currentTarget=e[g],h=mc(e[g],f,!1,c),d=d&&h}return d}return lc(a,new Rb(b,this))},ec=function(a){a=a[Zb];return a instanceof Wb?a:null},nc="__closure_events_fn_"+(1E9*Math.random()>>>0),cc=function(a){if("function"==da(a))return a;a[nc]||(a[nc]=function(b){return a.handleEvent(b)});return a[nc]};var oc=function(){z.call(this);this.Xa=new Wb(this);this.bi=this;this.hg=null};v(oc,z);oc.prototype[Sb]=!0;oc.prototype.addEventListener=function(a,b,c,d){C(this,a,b,c,d)};oc.prototype.removeEventListener=function(a,b,c,d){jc(this,a,b,c,d)};
oc.prototype.dispatchEvent=function(a){var b,c=this.hg;if(c)for(b=[];c;c=c.hg)b.push(c);var c=this.bi,d=a.type||a;if(r(a))a=new Mb(a,c);else if(a instanceof Mb)a.target=a.target||c;else{var e=a;a=new Mb(d,c);Ha(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.yc&&0<=g;g--)f=a.currentTarget=b[g],e=pc(f,d,!0,a)&&e;a.yc||(f=a.currentTarget=c,e=pc(f,d,!0,a)&&e,a.yc||(e=pc(f,d,!1,a)&&e));if(b)for(g=0;!a.yc&&g<b.length;g++)f=a.currentTarget=b[g],e=pc(f,d,!1,a)&&e;return e};
oc.prototype.G=function(){oc.C.G.call(this);if(this.Xa){var a=this.Xa,b=0,c;for(c in a.ha){for(var d=a.ha[c],e=0;e<d.length;e++)++b,Vb(d[e]);delete a.ha[c];a.le--}}this.hg=null};var pc=function(a,b,c,d){b=a.Xa.ha[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.fd&&g.sd==c){var h=g.listener,l=g.ze||g.src;g.re&&Yb(a.Xa,g);e=!1!==h.call(l,d)&&e}}return e&&0!=d.Oh};oc.prototype.Hf=function(a,b,c,d){return this.Xa.Hf(String(a),b,c,d)};
oc.prototype.hasListener=function(a,b){return this.Xa.hasListener(ba(a)?String(a):void 0,b)};var qc=function(a,b,c){if("function"==da(a))c&&(a=ia(a,c));else if(a&&"function"==typeof a.handleEvent)a=ia(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:m.setTimeout(a,b||0)};var rc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,sc=function(a,b){if(a)for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),f=null,g=null;0<=e?(f=c[d].substring(0,e),g=c[d].substring(e+1)):f=c[d];b(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}};var tc=function(){};tc.prototype.Ig=null;var vc=function(a){var b;(b=a.Ig)||(b={},uc(a)&&(b[0]=!0,b[1]=!0),b=a.Ig=b);return b};var wc,xc=function(){};v(xc,tc);var yc=function(a){return(a=uc(a))?new ActiveXObject(a):new XMLHttpRequest},uc=function(a){if(!a.Yg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Yg=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Yg};wc=new xc;var D=function(a){oc.call(this);this.headers=new Ma;this.jf=a||null;this.Ib=!1;this.hf=this.u=null;this.kh=this.Md="";this.tb=0;this.Ld="";this.lc=this.Mf=this.Be=this.yf=!1;this.Gb=0;this.ca=null;this.ee="";this.gf=this.Zi=this.ne=!1};v(D,oc);D.prototype.a=y("goog.net.XhrIo");var zc=/^https?$/i,Ac=["POST","PUT"],Bc=function(a){a.ee="arraybuffer"};
D.prototype.send=function(a,b,c,d){if(this.u)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Md+"; newUri="+a);b=b?b.toUpperCase():"GET";this.Md=a;this.Ld="";this.tb=0;this.kh=b;this.yf=!1;this.Ib=!0;this.u=this.tf();this.hf=this.jf?vc(this.jf):vc(wc);this.u.onreadystatechange=ia(this.zh,this);this.Zi&&"onprogress"in this.u&&(this.u.onprogress=ia(function(a){this.yh(a,!0)},this),this.u.upload&&(this.u.upload.onprogress=ia(this.yh,this)));try{Lb(this.a,Cc(this,"Opening Xhr")),
this.Mf=!0,this.u.open(b,String(a),!0),this.Mf=!1}catch(f){Lb(this.a,Cc(this,"Error opening Xhr: "+f.message));Dc(this,f);return}a=c||"";var e=this.headers.clone();d&&Ra(d,function(a,b){e.set(b,a)});d=ua(e.Ka());c=m.FormData&&a instanceof m.FormData;!(0<=qa(Ac,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.u.setRequestHeader(b,a)},this);this.ee&&(this.u.responseType=this.ee);Fa(this.u)&&(this.u.withCredentials=this.ne);try{Ec(this),
0<this.Gb&&(this.gf=Fc(this.u),Lb(this.a,Cc(this,"Will abort after "+this.Gb+"ms if incomplete, xhr2 "+this.gf)),this.gf?(this.u.timeout=this.Gb,this.u.ontimeout=ia(this.Yh,this)):this.ca=qc(this.Yh,this.Gb,this)),Lb(this.a,Cc(this,"Sending request")),this.Be=!0,this.u.send(a),this.Be=!1}catch(f){Lb(this.a,Cc(this,"Send error: "+f.message)),Dc(this,f)}};var Fc=function(a){return Ta&&db(9)&&fa(a.timeout)&&ba(a.ontimeout)},ta=function(a){return"content-type"==a.toLowerCase()};
D.prototype.tf=function(){return this.jf?yc(this.jf):yc(wc)};D.prototype.Yh=function(){"undefined"!=typeof aa&&this.u&&(this.Ld="Timed out after "+this.Gb+"ms, aborting",this.tb=8,Lb(this.a,Cc(this,this.Ld)),this.dispatchEvent("timeout"),this.abort(8))};var Dc=function(a,b){a.Ib=!1;a.u&&(a.lc=!0,a.u.abort(),a.lc=!1);a.Ld=b;a.tb=5;Gc(a);Hc(a)},Gc=function(a){a.yf||(a.yf=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};
D.prototype.abort=function(a){this.u&&this.Ib&&(Lb(this.a,Cc(this,"Aborting")),this.Ib=!1,this.lc=!0,this.u.abort(),this.lc=!1,this.tb=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Hc(this))};D.prototype.G=function(){this.u&&(this.Ib&&(this.Ib=!1,this.lc=!0,this.u.abort(),this.lc=!1),Hc(this,!0));D.C.G.call(this)};D.prototype.zh=function(){this.wd||(this.Mf||this.Be||this.lc?Ic(this):this.Si())};D.prototype.Si=function(){Ic(this)};
var Ic=function(a){if(a.Ib&&"undefined"!=typeof aa)if(a.hf[1]&&4==Jc(a)&&2==Kc(a))Lb(a.a,Cc(a,"Local request error detected and ignored"));else if(a.Be&&4==Jc(a))qc(a.zh,0,a);else if(a.dispatchEvent("readystatechange"),4==Jc(a)){Lb(a.a,Cc(a,"Request complete"));a.Ib=!1;try{var b=Kc(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.Md).match(rc)[1]||null;if(!f&&m.self&&m.self.location)var g=m.self.location.protocol,
f=g.substr(0,g.length-1);e=!zc.test(f?f.toLowerCase():"")}d=e}if(d)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.tb=6;var h;try{h=2<Jc(a)?a.u.statusText:""}catch(l){Lb(a.a,"Can not get status: "+l.message),h=""}a.Ld=h+" ["+Kc(a)+"]";Gc(a)}}finally{Hc(a)}}};D.prototype.yh=function(a,b){this.dispatchEvent(Lc(a,"progress"));this.dispatchEvent(Lc(a,b?"downloadprogress":"uploadprogress"))};
var Lc=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},Hc=function(a,b){if(a.u){Ec(a);var c=a.u,d=a.hf[0]?ca:null;a.u=null;a.hf=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){Kb(a.a,"Problem encountered resetting onreadystatechange: "+e.message)}}},Ec=function(a){a.u&&a.gf&&(a.u.ontimeout=null);fa(a.ca)&&(m.clearTimeout(a.ca),a.ca=null)};D.prototype.Dd=function(){return!!this.u};
var Jc=function(a){return a.u?a.u.readyState:0},Kc=function(a){try{return 2<Jc(a)?a.u.status:-1}catch(b){return-1}},Mc=function(a){try{if(!a.u)return null;if("response"in a.u)return a.u.response;switch(a.ee){case "":case "text":return a.u.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.u)return a.u.mozResponseArrayBuffer}Kb(a.a,"Response type "+a.ee+" is not supported on this browser");return null}catch(b){return Lb(a.a,"Can not get response: "+b.message),null}};
D.prototype.getResponseHeader=function(a){return this.u&&4==Jc(this)?this.u.getResponseHeader(a):void 0};D.prototype.getAllResponseHeaders=function(){return this.u&&4==Jc(this)?this.u.getAllResponseHeaders():""};var Cc=function(a,b){return b+" ["+a.kh+" "+a.Md+" "+Kc(a)+"]"};var Nc=function(){this.Aa=[];this.Sa=[]};Nc.prototype.enqueue=function(a){this.Sa.push(a)};var Oc=function(a){0==a.Aa.length&&(a.Aa=a.Sa,a.Aa.reverse(),a.Sa=[]);return a.Aa.pop()};k=Nc.prototype;k.Oc=function(){return this.Aa.length+this.Sa.length};k.bb=function(){return 0==this.Aa.length&&0==this.Sa.length};k.clear=function(){this.Aa=[];this.Sa=[]};k.contains=function(a){return 0<=qa(this.Aa,a)||0<=qa(this.Sa,a)};
k.remove=function(a){var b=ra(this.Aa,a);if(0>b)return va(this.Sa,a);Array.prototype.splice.call(this.Aa,b,1);return!0};k.Ba=function(){for(var a=[],b=this.Aa.length-1;0<=b;--b)a.push(this.Aa[b]);for(var c=this.Sa.length,b=0;b<c;++b)a.push(this.Sa[b]);return a};var E=function(a,b){this.jb=this.Hc=this.Ab="";this.ad=null;this.kc=this.eb="";this.Ca=this.Ji=!1;var c;if(a instanceof E)this.Ca=ba(b)?b:a.Ca,Pc(this,a.Ab),c=a.Hc,F(this),this.Hc=c,c=a.jb,F(this),this.jb=c,Qc(this,a.ad),c=a.eb,F(this),this.eb=c,Rc(this,a.zb.clone()),c=a.kc,F(this),this.kc=c;else if(a&&(c=String(a).match(rc))){this.Ca=!!b;Pc(this,c[1]||"",!0);var d=c[2]||"";F(this);this.Hc=Sc(d);d=c[3]||"";F(this);this.jb=Sc(d,!0);Qc(this,c[4]);d=c[5]||"";F(this);this.eb=Sc(d,!0);Rc(this,c[6]||"",
!0);c=c[7]||"";F(this);this.kc=Sc(c)}else this.Ca=!!b,this.zb=new Tc(null,0,this.Ca)};
E.prototype.toString=function(){var a=[],b=this.Ab;b&&a.push(Uc(b,Vc,!0),":");var c=this.jb;if(c||"file"==b)a.push("//"),(b=this.Hc)&&a.push(Uc(b,Vc,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.ad,null!=c&&a.push(":",String(c));if(c=this.eb)this.jb&&"/"!=c.charAt(0)&&a.push("/"),a.push(Uc(c,"/"==c.charAt(0)?Xc:Yc,!0));(c=this.zb.toString())&&a.push("?",c);(c=this.kc)&&a.push("#",Uc(c,Zc));return a.join("")};
E.prototype.resolve=function(a){var b=this.clone(),c=!!a.Ab;c?Pc(b,a.Ab):c=!!a.Hc;if(c){var d=a.Hc;F(b);b.Hc=d}else c=!!a.jb;c?(d=a.jb,F(b),b.jb=d):c=null!=a.ad;d=a.eb;if(c)Qc(b,a.ad);else if(c=!!a.eb){if("/"!=d.charAt(0))if(this.jb&&!this.eb)d="/"+d;else{var e=b.eb.lastIndexOf("/");-1!=e&&(d=b.eb.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(w(e,"./")||w(e,"/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var h=e[g++];"."==h?d&&g==e.length&&f.push(""):".."==h?((1<
f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}c?(F(b),b.eb=d):c=""!==a.zb.toString();c?Rc(b,Sc(a.zb.toString())):c=!!a.kc;c&&(a=a.kc,F(b),b.kc=a);return b};E.prototype.clone=function(){return new E(this)};
var Pc=function(a,b,c){F(a);a.Ab=c?Sc(b,!0):b;a.Ab&&(a.Ab=a.Ab.replace(/:$/,""))},Qc=function(a,b){F(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.ad=b}else a.ad=null},Rc=function(a,b,c){F(a);b instanceof Tc?(a.zb=b,a.zb.qg(a.Ca)):(c||(b=Uc(b,$c)),a.zb=new Tc(b,0,a.Ca))},F=function(a){if(a.Ji)throw Error("Tried to modify a read-only Uri");};E.prototype.qg=function(a){this.Ca=a;this.zb&&this.zb.qg(a);return this};
var Sc=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},Uc=function(a,b,c){return r(a)?(a=encodeURI(a).replace(b,ad),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},ad=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Vc=/[#\/\?@]/g,Yc=/[\#\?:]/g,Xc=/[\#\?]/g,$c=/[\#\?@]/g,Zc=/#/g,Tc=function(a,b,c){this.K=this.U=null;this.sa=a||null;this.Ca=!!c},bd=function(a){a.U||(a.U=new Ma,a.K=0,a.sa&&sc(a.sa,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g,
" ")),c)}))};k=Tc.prototype;k.Oc=function(){bd(this);return this.K};k.add=function(a,b){bd(this);this.sa=null;a=cd(this,a);var c=this.U.get(a);c||this.U.set(a,c=[]);c.push(b);this.K+=1;return this};k.remove=function(a){bd(this);a=cd(this,a);return this.U.ud(a)?(this.sa=null,this.K-=this.U.get(a).length,this.U.remove(a)):!1};k.clear=function(){this.U=this.sa=null;this.K=0};k.bb=function(){bd(this);return 0==this.K};k.ud=function(a){bd(this);a=cd(this,a);return this.U.ud(a)};
k.Ka=function(){bd(this);for(var a=this.U.Ba(),b=this.U.Ka(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};k.Ba=function(a){bd(this);var b=[];if(r(a))this.ud(a)&&(b=wa(b,this.U.get(cd(this,a))));else{a=this.U.Ba();for(var c=0;c<a.length;c++)b=wa(b,a[c])}return b};k.set=function(a,b){bd(this);this.sa=null;a=cd(this,a);this.ud(a)&&(this.K-=this.U.get(a).length);this.U.set(a,[b]);this.K+=1;return this};
k.get=function(a,b){var c=a?this.Ba(a):[];return 0<c.length?String(c[0]):b};k.toString=function(){if(this.sa)return this.sa;if(!this.U)return"";for(var a=[],b=this.U.Ka(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.Ba(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}return this.sa=a.join("&")};k.clone=function(){var a=new Tc;a.sa=this.sa;this.U&&(a.U=this.U.clone(),a.K=this.K);return a};
var cd=function(a,b){var c=String(b);a.Ca&&(c=c.toLowerCase());return c};Tc.prototype.qg=function(a){a&&!this.Ca&&(bd(this),this.sa=null,this.U.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<a.length&&(this.sa=null,this.U.set(cd(this,d),xa(a)),this.K+=a.length))},this));this.Ca=a};Tc.prototype.extend=function(a){for(var b=0;b<arguments.length;b++)Ra(arguments[b],function(a,b){this.add(b,a)},this)};var dd=function(a,b){this.I=a|0;this.A=b|0},ed={},G={},fd=function(a){if(-128<=a&&128>a){var b=ed[a];if(b)return b}b=new dd(a|0,0>a?-1:0);-128<=a&&128>a&&(ed[a]=b);return b},kd=function(a){isNaN(a)||!isFinite(a)?a=gd():a<=-hd?a=id():a+1>=hd?(G[1]||(G[1]=jd(-1,2147483647)),a=G[1]):a=0>a?H(kd(-a)):new dd(a%4294967296|0,a/4294967296|0);return a},jd=function(a,b){return new dd(a,b)},ld=function(a,b){if(0==a.length)throw Error("number format error: empty string");var c=b||10;if(2>c||36<c)throw Error("radix out of range: "+
c);if("-"==a.charAt(0))return H(ld(a.substring(1),c));if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);for(var d=kd(Math.pow(c,8)),e=gd(),f=0;f<a.length;f+=8){var g=Math.min(8,a.length-f),h=parseInt(a.substring(f,f+g),c);8>g?(g=kd(Math.pow(c,g)),e=e.multiply(g).add(kd(h))):(e=e.multiply(d),e=e.add(kd(h)))}return e},hd=4294967296*4294967296/2,gd=function(){G[3]||(G[3]=fd(0));return G[3]},md=function(){G[4]||(G[4]=fd(1));return G[4]},nd=function(){G[5]||(G[5]=fd(-1));
return G[5]},id=function(){G[2]||(G[2]=jd(0,-2147483648));return G[2]};dd.prototype.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.Pb())return"0";if(0>this.A){if(this.S(id())){var b=kd(a),c=od(this,b),b=pd(c.multiply(b),this);return c.toString(a)+b.I.toString(a)}return"-"+H(this).toString(a)}for(var c=kd(Math.pow(a,6)),b=this,d="";;){var e=od(b,c),f=(pd(b,e.multiply(c)).I>>>0).toString(a),b=e;if(b.Pb())return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};
var qd=function(a){return 0<=a.I?a.I:4294967296+a.I};dd.prototype.Pb=function(){return 0==this.A&&0==this.I};dd.prototype.S=function(a){return this.A==a.A&&this.I==a.I};var rd=function(a){G[6]||(G[6]=fd(16777216));return 0>a.compare(G[6])},sd=function(a,b){return 0<a.compare(b)};dd.prototype.compare=function(a){if(this.S(a))return 0;var b=0>this.A,c=0>a.A;return b&&!c?-1:!b&&c?1:0>pd(this,a).A?-1:1};var H=function(a){return a.S(id())?id():jd(~a.I,~a.A).add(md())};
dd.prototype.add=function(a){var b=this.A>>>16,c=this.A&65535,d=this.I>>>16,e=a.A>>>16,f=a.A&65535,g=a.I>>>16,h;h=0+((this.I&65535)+(a.I&65535));a=0+(h>>>16);a+=d+g;d=0+(a>>>16);d+=c+f;c=0+(d>>>16);c=c+(b+e)&65535;return jd((a&65535)<<16|h&65535,c<<16|d&65535)};var pd=function(a,b){return a.add(H(b))};
dd.prototype.multiply=function(a){if(this.Pb()||a.Pb())return gd();if(this.S(id()))return 1==(a.I&1)?id():gd();if(a.S(id()))return 1==(this.I&1)?id():gd();if(0>this.A)return 0>a.A?H(this).multiply(H(a)):H(H(this).multiply(a));if(0>a.A)return H(this.multiply(H(a)));if(rd(this)&&rd(a))return kd((4294967296*this.A+qd(this))*(4294967296*a.A+qd(a)));var b=this.A>>>16,c=this.A&65535,d=this.I>>>16,e=this.I&65535,f=a.A>>>16,g=a.A&65535,h=a.I>>>16;a=a.I&65535;var l,n,p,q;q=0+e*a;p=0+(q>>>16);p+=d*a;n=0+(p>>>
16);p=(p&65535)+e*h;n+=p>>>16;p&=65535;n+=c*a;l=0+(n>>>16);n=(n&65535)+d*h;l+=n>>>16;n&=65535;n+=e*g;l+=n>>>16;n&=65535;l=l+(b*a+c*h+d*g+e*f)&65535;return jd(p<<16|q&65535,l<<16|n)};
var od=function(a,b){if(b.Pb())throw Error("division by zero");if(a.Pb())return gd();if(a.S(id())){if(b.S(md())||b.S(nd()))return id();if(b.S(id()))return md();var c;c=1;if(0==c)c=a;else{var d=a.A;c=32>c?jd(a.I>>>c|d<<32-c,d>>c):jd(d>>c-32,0<=d?0:-1)}c=od(c,b).shiftLeft(1);if(c.S(gd()))return 0>b.A?md():nd();d=pd(a,b.multiply(c));return c.add(od(d,b))}if(b.S(id()))return gd();if(0>a.A)return 0>b.A?od(H(a),H(b)):H(od(H(a),b));if(0>b.A)return H(od(a,H(b)));for(var e=gd(),d=a;0<=d.compare(b);){c=Math.max(1,
Math.floor((4294967296*d.A+qd(d))/(4294967296*b.A+qd(b))));for(var f=Math.ceil(Math.log(c)/Math.LN2),f=48>=f?1:Math.pow(2,f-48),g=kd(c),h=g.multiply(b);0>h.A||sd(h,d);)c-=f,g=kd(c),h=g.multiply(b);g.Pb()&&(g=md());e=e.add(g);d=pd(d,h)}return e};dd.prototype.shiftLeft=function(a){a&=63;if(0==a)return this;var b=this.I;return 32>a?jd(b<<a,this.A<<a|b>>>32-a):jd(0,b<<a-32)};var td=function(a,b){b&=63;if(0==b)return a;var c=a.A;return 32>b?jd(a.I>>>b|c<<32-b,c>>>b):32==b?jd(c,0):jd(c>>>b-32,0)};var ud=function(a,b,c){this.Oa=b.name||null;this.jc={};for(a=0;a<c.length;a++)b=c[a],this.jc[b.ja]=b};ud.prototype.getName=function(){return this.Oa};var vd=function(a){a=Ca(a.jc);Aa(a,function(a,c){return a.ja-c.ja});return a};var wd=function(a,b,c){this.Qd=a;this.ja=b;this.Oa=c.name;this.Ii=!!c.xj;this.Gd=!!c.bj;this.lb=c.kb};wd.prototype.getName=function(){return this.Oa};var xd=function(){this.oa={};this.jc=this.Qc().jc;this.ra=this.lh=null};k=xd.prototype;k.has=function(a){return null!=this.oa[a.ja]};k.get=function(a,b){var c=a.ja,d=yd(this,c);return this.jc[c].Gd?d[b||0]:d};k.set=function(a,b){zd(this,a.ja,b)};k.add=function(a,b){Ad(this,a.ja,b)};k.clear=function(a){a=a.ja;delete this.oa[a];this.ra&&delete this.ra[a]};
k.S=function(a){if(!a||this.constructor!=a.constructor)return!1;for(var b=vd(this.Qc()),c=0;c<b.length;c++){var d=b[c],e=d.ja;if(null!=this.oa[e]!=(null!=a.oa[e]))return!1;if(null!=this.oa[e]){var f=11==d.lb||10==d.lb,g=yd(this,e),e=yd(a,e);if(d.Gd){if(g.length!=e.length)return!1;for(d=0;d<g.length;d++){var h=g[d],l=e[d];if(f?!h.S(l):h!=l)return!1}}else if(f?!g.S(e):g!=e)return!1}}return!0};
var Bd=function(a,b){for(var c=vd(a.Qc()),d=0;d<c.length;d++){var e=c[d],f=e.ja;if(null!=b.oa[f]){a.ra&&delete a.ra[e.ja];var g=11==e.lb||10==e.lb;if(e.Gd)for(var e=yd(b,f)||[],h=0;h<e.length;h++)Ad(a,f,g?e[h].clone():e[h]);else e=yd(b,f),g?(g=yd(a,f))?Bd(g,e):zd(a,f,e.clone()):zd(a,f,e)}}};xd.prototype.clone=function(){var a=new this.constructor;a!=this&&(a.oa={},a.ra&&(a.ra={}),Bd(a,this));return a};
var yd=function(a,b){var c=a.oa[b];return null==c?null:a.lh?b in a.ra?a.ra[b]:(c=a.lh.vj(a,a.jc[b],c),a.ra[b]=c):c},Cd=function(a,b){return a.jc[b].Gd?null!=a.oa[b]?a.oa[b].length:0:null!=a.oa[b]?1:0},zd=function(a,b,c){a.oa[b]=c;a.ra&&(a.ra[b]=c)},Ad=function(a,b,c){a.oa[b]||(a.oa[b]=[]);a.oa[b].push(c);a.ra&&delete a.ra[b]};var Dd=function(){};Dd.prototype.xe=function(a,b){return 11==a.lb||10==a.lb?Ed(this,b):fa(b)&&!isFinite(b)?b.toString():b};var Fd=function(){this.ya=[];gd();this.te=new DataView(new ArrayBuffer(8))};v(Fd,Dd);var Ed=function(a,b){if(null==b)return[];a.ya=[];for(var c=vd(b.Qc()),d=0;d<c.length;d++){var e=c[d];if(b.has(e))if(e.Gd)if(e.Ii){var f=a,g=b,h=e,e=f.ya;Gd(f,h.ja<<3|2);for(var l=e.length,n=0,p=Cd(g,h.ja);n<p;n++){var q=g.get(h,n);f.xe(h,q,!0)}g=e.splice(l,e.length-l);Gd(f,g.length);e.splice.apply(e,[e.length,0].concat(g))}else for(f=0,g=Cd(b,e.ja);f<g;f++)h=b.get(e,f),a.xe(e,h);else a.xe(e,b.get(e))}return a.ya};
Fd.prototype.xe=function(a,b,c){if(c=!c){a:{c=0;switch(a.lb){default:c=!1;break a;case 17:case 18:case 8:case 3:case 14:case 5:case 13:case 4:c=0;break;case 6:case 16:case 1:c=1;break;case 9:case 12:case 11:c=2;break;case 10:c=3;break;case 7:case 15:case 2:c=5}Gd(this,a.ja<<3|c);c=!0}c=!c}if(c)return!1;switch(a.lb){default:throw Error("Unknown field type "+a.lb);case 17:Gd(this,b<<1^-(b>>>31));break;case 18:b=ld(b);a=td(b,63);b=b.shiftLeft(1);a=H(a);Hd(this,jd(b.I^a.I,b.A^a.A));break;case 8:Gd(this,
b?1:0);break;case 5:0<b?Gd(this,b):Hd(this,fd(b));break;case 3:Hd(this,ld(b));break;case 14:case 13:case 4:Gd(this,b);break;case 6:case 16:Id(this,b,8);break;case 1:this.te.setFloat64(0,b,!0);for(a=0;8>a;a++)this.ya.push(this.te.getUint8(a));break;case 9:if(null!=b)for(a=unescape(encodeURIComponent(b)),Gd(this,a.length),b=0;b<a.length;b++)this.ya.push(a.charCodeAt(b));break;case 12:if(null!=b)for(Gd(this,b.length),a=0;a<b.length;a++)this.ya.push(b.charCodeAt(a));break;case 10:b=Ed(new Fd,b);ya(this.ya,
b);Gd(this,a.ja<<3|4);break;case 11:b=Ed(new Fd,b);Gd(this,b.length);ya(this.ya,b);break;case 7:case 15:Id(this,b,4);break;case 2:for(this.te.setFloat32(0,b,!0),a=0;4>a;a++)this.ya.push(this.te.getUint8(a))}return null};var Gd=function(a,b){do{var c=b&127;b>>>=7;0<b&&(c|=128);a.ya.push(c)}while(0<b)},Hd=function(a,b){var c=fd(127);do{var d=jd(b.I&c.I,b.A&c.A).I;b=td(b,7);sd(b,gd())&&(d|=128);a.ya.push(d)}while(sd(b,gd()))},Id=function(a,b,c){for(var d=0;d<c;d++)a.ya.push(b&255),b>>>=8};var Jd=function(){xd.call(this)};v(Jd,xd);var Kd=null,Ld={uj:0,sj:1};
Jd.prototype.Qc=function(){var a=Kd;if(!a){var a={0:{name:"WidevineCencHeader",wj:"video_drm.WidevineCencHeader"},1:{name:"algorithm",kb:14,defaultValue:0,type:Ld},2:{name:"key_id",bj:!0,kb:12,type:String},3:{name:"provider",kb:9,type:String},4:{name:"content_id",kb:12,type:String},5:{name:"track_type_deprecated",kb:9,type:String},6:{name:"policy",kb:9,type:String},7:{name:"crypto_period_index",kb:13,type:Number},8:{name:"grouped_license",kb:12,type:String},9:{name:"protection_scheme",kb:13,type:Number}},
b=[],c=a[0],d;for(d in a)0!=d&&b.push(new wd(Jd,d,a[d]));Kd=a=new ud(0,c,b)}return a};Jd.Qc=Jd.prototype.Qc;u("cast.player.api.VERSION","1.0.0");u("cast.player.api.ErrorCode",{UNKNOWN:0,PLAYBACK:1,MEDIAKEYS:2,NETWORK:3,MANIFEST:4});var Md=["cast.player.api.ErrorCode.UNKNOWN","cast.player.api.ErrorCode.PLAYBACK","cast.player.api.ErrorCode.MEDIAKEYS","cast.player.api.ErrorCode.NETWORK","cast.player.api.ErrorCode.MANIFEST"];u("cast.player.api.HlsSegmentFormat",{MPEG2_TS:0,MPEG_AUDIO_ES:1});u("cast.player.api.CaptionsType",{UNKNOWN:"unknown",WEBVTT:"webvtt",TTML:"ttml",CEA608:"cea608"});
u("cast.player.api.ContentProtection",{NONE:"none",CLEARKEY:"clearkey",PLAYREADY:"playready",WIDEVINE:"widevine",AES_128:"aes_128",AES_128_CKP:"aes_128_ckp"});u("cast.player.api.LoggerLevel",{DEBUG:0,INFO:800,WARNING:900,ERROR:1E3,NONE:Infinity});u("cast.player.api.StreamingProtocolType",{UNKNOWN:0,MPEG_DASH:1,HLS:2,SMOOTH_STREAMING:3});
var Nd=function(){this.timeoutInterval=3E4;this.headers=this.url=null;this.withCredentials=!1;this.protectionSystem=this.content=null;this.skipRequest=!1;this.ed=this.setResponse=null};u("cast.player.api.RequestInfo",Nd);var Od=function(a,b,c,d,e){this.url=a;this.errorCode=b;this.status=c;this.responseHeaders=d;this.response=e};u("cast.player.api.RequestStatus",Od);var Pd=function(a,b,c,d,e,f){this.codecs=a;this.mimeType=b;this.bitrates=c;this.language=d;this.name=e;this.role=f};
u("cast.player.api.StreamInfo",Pd);window.VTTCue=window.VTTCue||window.TextTrackCue;var Qd=function(a){xb().rg(sb(a))};u("cast.player.api.setLoggerLevel",Qd);Hb||(Hb=new Eb);if(Hb){var Rd=Hb;if(1!=Rd.$g){var Sd=xb(),Td=Rd.aj;Sd.yd||(Sd.yd=[]);Sd.yd.push(Td);Rd.$g=!0}};var Vd=function(a){Ud.Fg(this,"constructor");this.qf=a;this.Cb=0;this.Ra=new Uint8Array(5120)};Vd.prototype.clear=function(){this.Cb=0};Vd.prototype.append=function(a){this.Ra.set(a,this.Cb);this.Cb+=a.length};
var Zd=function(a,b){for(var c,d=c=0,e=0;d<a.Cb;)2===c&&3===a.Ra[d]?c=0:(0===a.Ra[d]?c++:c=0,a.Ra[e]=a.Ra[d],e++),d++;c=d-e;for(d=0;d+c<a.Cb;){for(var f=0;255===a.Ra[d];)f+=255,d++;f+=a.Ra[d++];if(45<f)break;for(e=0;255===a.Ra[d];)e+=255,d++;e+=a.Ra[d++];if(4===f){var f=a.qf.T,g=b,h=new Wd(a.Ra.subarray(d,d+e));if(181===Xd(h)&&49===Yd(h)&&1195456820===I(h)&&3===Xd(h)){var l=Xd(h);if(0!==(l&64)){l&=31;J(h,1);for(var n=0;n<l;n++){var p=Xd(h),q=(p&4)>>2,R=Xd(h),Ea=Xd(h);q&&f.gc.push({time:g,type:p&3,
Jg:R,Kg:Ea,Hh:f.gc.length})}}}}d+=e}a.Cb=0};var $d={clearkey:"org.w3.clearkey",playready:"com.chromecast.playready",widevine:"com.widevine.alpha"},ae=y("cast.player.common"),be=function(a){return ka(a,"audio/")},ce=function(a){return ka(a,"video/")},de=function(a,b){return"caption"==a||ka(b,"text/")},fe=function(a,b){var c;b?(c=new Uint8Array(new ArrayBuffer(16)),c.set(a),ee(c.subarray(0,4)),ee(c.subarray(4,6)),ee(c.subarray(6,8))):c=a;this.Ic=c},ge=new fe([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),he=new fe([237,239,139,
169,121,214,74,206,163,200,39,220,213,29,33,237]);fe.prototype.S=function(a){if(null===a)return!1;var b=this.Ic;a=a.Ic;for(var c=0;16>c;c++)if(b[c]!==a[c])return!1;return!0};fe.prototype.toString=function(){for(var a="",b=0;b<this.Ic.length;b++)a+=("0"+this.Ic[b].toString(16)).slice(-2);return a};
var ee=function(a){for(var b=0,c=a.length-1;b<c;b++,c--){var d=a[b];a[b]=a[c];a[c]=d}},ie=function(a,b,c){b=b||new Uint8Array(a.length);var d=0;for(c=c||0;d<a.length;d++)b[d+c]=a.charCodeAt(d);return b},je=function(a){switch(a){case "mp4a.a6":case "ec-3":return!0;default:return!1}},ke=function(a,b,c){for(a=a.toString(b);a.length<c;)a="0"+a;return a},le=function(a){for(var b=a.length/2,c=new Uint8Array(b),d=0;d<b;d++)c[d]=parseInt(a.substr(2*d,2),16);return c},me=cast.__platform__&&cast.__platform__.queryPlatformValue?
cast.__platform__.queryPlatformValue("log-level-mpl"):void 0;Qd(ba(me)?parseInt(me,10):0);var ne={"Cast.MPL.Bandwidth":{min:0,max:1E4,$f:100},"Cast.MPL.SegmentStats.Size":{min:0,max:1E6,$f:100},"Cast.MPL.SegmentStats.Time":{min:0,max:2E4,$f:20}},oe=function(a){switch(a){case "webvtt":return 1;case "ttml":return 2;case "cea608":return 3}return 0},qe=function(a){a.split(",").forEach(function(a){K("Cast.MPL.Codec",pe(a))})},pe=function(a){switch(a){case "mp4a.a6":return 1;case "ec-3":return 2;case "mp4a.40.2":return 3;case "mp4a.40.5":return 4;case "mp4a.67":return 5;case "avc1.4d40":return 6;
case "avc1.4d401e":return 7;case "mp4a.a5":return 8;case "ac-3":return 9;case "vorbis":return 10}return 0==a.lastIndexOf("avc1",0)?11:0==a.lastIndexOf("mp4a.40",0)?12:0},se=function(a,b){K("Cast.MPL.ProtocolProtection",re(a,b))},re=function(a,b){switch(b){case 1:switch(a){case "clearkey":return 101;case "widevine":return 102;case "playready":return 103}break;case 2:switch(a){case "widevine":return 201;case "aes_128":return 202;case "aes_128_ckp":return 203}break;case 3:switch(a){case "playready":return 301}}return 0},
ue=function(a){te()&&cast.__platform__.metrics.logEventToUma(a)},ve=function(a,b){te()&&cast.__platform__.metrics.logHistogramValueToUma&&(ne[a]?cast.__platform__.metrics.logHistogramValueToUma(a,b,ne[a].min,ne[a].max,ne[a].$f):A(ae,"Invalid histogram name"))},K=function(a,b){te()&&cast.__platform__.metrics.logIntToUma(a,b)},we=function(a){switch(a){case "application/ttml+xml":return 1;case "text/vtt":return 2;case "text/mp4":return 3;case "audio/mp4":return 4;case "video/mp4":return 5;case "video/mp2t":return 6}return 0},
xe=function(a){te()&&K("Cast.MPL.StreamingProtocolType",a)},te=function(){return cast.__platform__&&cast.__platform__.metrics};var ye=function(a){this.initialBandwidth=2097152;this.autoResumeDuration=10;this.autoResumeNumberOfSegments=3;this.autoPauseDuration=1;this.segmentRequestRetryLimit=3;this.useSingleKeySession=!1;this.mediaElement=a.mediaElement;this.url=a.url;this.licenseUrl=a.licenseUrl||null;this.licenseCustomData=a.licenseCustomData||null;this.di=!0===a.aggressiveStallHandling;this.wi=!0===a.disableSourceBufferTimeAdjust;this.Lf=!0===a.hlsContentKeyProtection;this.lj=!0===a.skipSegmentOnNetworkFailure;this.onAutoPause=
this.onMediaDownloadEnded=this.onManifestReady=this.processLicense=this.processSegment=this.processManifest=this.processMetadata=this.prepareLicenseRequest=this.getQualityLevel=this.trackBandwidth=this.updateCaptionsRequestInfo=this.updateSegmentRequestInfo=this.updateLicenseRequestInfo=this.updateManifestRequestInfo=this.onError=null};u("cast.player.api.Host",ye);ye.prototype.a=y("cast.player.api.Host");
var L=function(a,b,c,d,e){K("Cast.MPL.Error",b);var f=Math.floor(b/100);Kb(e||a.a,"error: "+Md[f]+"/"+b+(d?" ("+d+")":""));if(a.onError)a.onError(f,c)};var Ae=function(a){this.X=ze(a)};Ae.prototype.reset=function(a){this.X=ze(a)};var ze=function(a){for(var b=-1,c=0;c<a.length;c++){var d=parseInt(a.charAt(c),10);if(isNaN(d))throw Error("Invalid positive base 10 integer string");0>b&&d&&(b=c)}return a.substr(b,a.length)};Ae.prototype.toString=function(){return this.X};
Ae.prototype.add=function(a){if(0>a||Math.floor(a)!=a)throw Error("Value must be a positive integer");var b=a+"",c=Math.max(b.length,this.X.length);a=[];for(var d=0,e=0;e<c;e++){var f=d+parseInt(e<b.length?b.charAt(b.length-1-e):"0",10)+parseInt(e<this.X.length?this.X.charAt(this.X.length-1-e):"0",10);10<=f?(d=1,f-=10):d=0;a.push(f)}b=0<d?"1":"";for(e=a.length-1;0<=e;e--)b+=a[e];this.X=b};
var Be=function(a,b){if(b.X.length<a.X.length)return!0;if(b.X.length>a.X.length)return!1;for(var c=0;c<b.X.length;c++){var d=parseInt(a.X.charAt(c),10),e=parseInt(b.X.charAt(c),10);if(d<e)return!1;if(d>e)break}return!0};var Wd=function(a){this.buffer=a;this.Ng=new DataView(a.buffer,a.byteOffset);this.offset=0},Xd=function(a){return a.buffer[a.offset++]},Yd=function(a){var b=a.Ng.getUint16(a.offset);a.offset+=2;return b},I=function(a){var b=a.Ng.getUint32(a.offset);a.offset+=4;return b},Ce=function(a){var b=I(a);a=I(a);return 4294967296*b+a},De=function(a,b){var c=a.buffer.subarray(a.offset,a.offset+b);a.offset+=b;return c},J=function(a,b){a.offset+=b};var Fe=function(a){this.Og=a;this.pf=this.aa=this.ld=this.mode=this.Le=0;this.Bf=new Ee(this);this.Cf=new Ee(this);this.gc=[];this.reset()},Ge=function(a){return a.ld+a.aa},He=function(){this.bc=0};He.prototype.set=function(a){this.bc=a};He.prototype.get=function(){return this.bc};var Ie=function(){this.nf=this.Eg=this.s=0};Ie.prototype.clear=function(){this.s=0};Ie.prototype.update=function(){this.s=2===this.s?1:0};Ie.prototype.matches=function(a,b){return 0!==this.s&&a===this.Eg&&b===this.nf};
var Je=function(){this.timestamp=this.Hb=0;this.Ed=!1};Je.prototype.reset=function(){this.timestamp=this.Hb=0;this.Ed=!1};
var Ke=function(a){this.Ta=[];for(var b=0;15>=b;b++){this.Ta[b]=[];for(var c=0;32>=c;c++)this.Ta[b][c]=new Je}this.N=this.da=this.fa=0;this.style=new He;this.T=a;this.Od=0},Me=function(a){for(var b="",c=Ge(a.T),d=c,e=1;15>=e;++e){for(var f="",g=!1,h=1;32>=h;++h){var l=a.Ta[e][h];if(0!==l.Hb){var n=String.fromCharCode(l.Hb);" "!==n&&(g=!0);var f=f+n,p=l.timestamp;p<c&&(c=p);p>d&&(d=p);3===a.style.bc?(!l.Ed&&" "===n&&g&&32>h&&Le(a.T.Og,c,c,b?b+"\n"+f:f),l.Ed=!0):l.reset()}}f&&(b=b?b+"\n"+f:f)}b&&Le(a.T.Og,
c,d,b)};Ke.prototype.reset=function(a){for(var b=0;15>=b;b++)for(var c=0;32>=c;c++)this.Ta[b][c].reset();this.Od=a;this.N=0;this.da=this.fa=1};
var Ne=[32,33,34,35,36,37,38,39,40,41,225,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,233,93,237,243,250,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,231,247,209,241,9632],Oe=[174,176,189,191,8482,162,163,9834,224,32,232,226,234,238,244,251],Pe=function(a){return a.Ta[a.fa][a.da]},Qe=function(a,b,c){2<=b&&1<a.da&&(--a.da,Pe(a).Hb=0);var d=Pe(a);
d.timestamp=Ge(a.T);a:{switch(b){case 0:b=Ne[(c&127)-32];break a;case 1:b=Oe[c&15];break a}b=0}d.Hb=b;32>a.da&&a.da++},Re=function(a,b,c,d){for(var e=0;e<d;e++)for(var f=0;32>=f;f++){var g=a.Ta[b+e][f],h=a.Ta[c+e][f];g.Hb=h.Hb;g.timestamp=h.timestamp;g.Ed=h.Ed}},Se=function(a,b,c){for(var d=0;d<c;d++)for(var e=0;32>=e;e++)a.Ta[b+d][e].reset()},Te=function(a){a.fa=0<a.N?a.N:1;a.da=1;Se(a,0,15)},Ue=function(a){this.T=a;this.sf=0;this.style=new He;this.Vf=new Ke(a);this.Wf=new Ke(a);this.Y=new Ke(a);
this.Wa=this.Vf;this.Yc=this.Wf;this.L=this.Wa};Ue.prototype.reset=function(a,b){this.sf=b;this.style.set(2);this.Wa=this.Vf;this.Yc=this.Wf;this.L=this.Wa;var c=(a<<2)+(b<<1)+0;this.Vf.reset(c);this.Wf.reset(c);this.Y.reset((a<<2)+(b<<1)+1)};
var Ve=function(a,b){var c=a.Wa;switch(a.style.get()){case 4:if(0<c.N)break;case 1:case 2:Me(c),Te(a.Wa),Te(a.Yc),c.fa=15,c.N=b}a.style.set(3);a.L=c;a.L.style=a.style;a.T.mode=1<<c.Od;c.da=1;c.N!==b&&(c.N>b?(Me(c),Se(c,c.fa-c.N,b)):c.fa<b&&(b=c.N),c.N=b)},We=function(a){a.style.set(1);a.L=a.Yc;a.L.N=0;a.L.style=a.style;a.T.mode=1<<a.L.Od},Xe=function(a){a.style.set(4);a.L=a.Y;a.L.style=a.style;a.T.mode=1<<a.L.Od},Ee=function(a){this.T=a;this.pc=new Ie;this.Ef=0;this.qe=new Ue(a);this.Hg=new Ue(a);
this.uf=this.qe};Ee.prototype.reset=function(a){this.Ef=a;this.pc.clear();this.uf=this.qe;this.qe.reset(a,0);this.Hg.reset(a,1)};
var Ze=function(a,b,c){a.pc.update();b=Ye(b,c,a.pc);switch(b.result){case 0:return;case 1:case 2:return}var d=b.oe;c=b.pe;if(32<=d||!d)a.T.mode&a.T.Le&&(b=d,b&128&&(b=127),c&128&&(c=127),a=a.uf.L,b&96&&Qe(a,0,b),c&96&&Qe(a,0,c));else if(d&16)a:if(!a.pc.matches(d,c)&&(b=a.pc,b.Eg=d,b.nf=c,b.s=2,b=d&8?a.Hg:a.qe,a.uf=b,a.T.mode=1<<(a.Ef<<2)+(b.sf<<1)+(4===b.style.bc?1:0),(a.T.mode|1<<(a.Ef<<2)+(b.sf<<1)+(4!==b.style.bc?1:0))&a.T.Le))if(c&64){a=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(d&7)<<1|c>>5&1];
c=c&16?4*((c&14)>>1):0;d=b.L;switch(b.style.get()){case 4:a=d.fa;break;case 3:if(a!==d.fa){if(a<d.N&&(a=d.N,a===d.fa))break;var e=1+d.fa-d.N,f=1+a-d.N;Re(d,f,e,d.N);b=e;var g=d.N;f<e?(e=f+g-e,0<e&&(b+=e,g-=e)):(e=e+g-f,0<e&&(g-=e));Se(d,b,g)}}d.fa=a;d.da=c+1}else switch(d&7){case 1:switch(c&112){case 32:Qe(b.L,0,32);break a;case 48:57===c?(b=b.L,Pe(b).Hb=0,32>b.da&&b.da++):Qe(b.L,1,c&15)}break;case 2:c&32&&Qe(b.L,2,c&31);break;case 3:c&32&&Qe(b.L,3,c&31);break;case 4:case 5:if(32<=c&&47>=c)switch(c){case 32:We(b);
break;case 33:b=b.L;1<b.da&&(--b.da,Pe(b).Hb=0);break;case 36:b=b.L;a=Pe(b);for(c=0;15>=c;c++)for(d=0;32>=d;d++)if(b.Ta[c][d]===a){for(;32>=d;d++)b.Ta[c][d].reset();break}break;case 37:Ve(b,2);break;case 38:Ve(b,3);break;case 39:Ve(b,4);break;case 40:Qe(b.L,0,32);break;case 41:b.style.set(2);b.L=b.Wa;b.L.N=0;b.L.style=b.style;b.T.mode=1<<b.L.Od;break;case 42:a=b.Y;a.N=15;a.style.set(4);Te(a);Xe(b);break;case 43:Xe(b);break;case 44:a=b.Wa;switch(b.style.get()){case 1:case 2:case 3:Me(a)}Se(a,0,15);
break;case 45:b:{a=b.L;switch(b.style.get()){default:case 2:case 1:break b;case 4:if(15>a.fa){++a.fa;a.da=1;break b}case 3:}2>a.N&&(a.N=2,a.fa<a.N&&(a.fa=a.N));b=a.fa-a.N+1;Me(a);Re(a,b,b+1,a.N-1);Se(a,a.fa,1)}break;case 46:Se(b.Yc,0,15);break;case 47:Me(b.Wa),a=b.Yc,b.Yc=b.Wa,b.Wa=a,We(b)}break;case 7:switch(c){case 33:case 34:case 35:b=b.L,32<(b.da+=c&3)&&(b.da=32)}}};Fe.prototype.clear=function(){this.pf=this.ld=this.mode=0;this.gc=[];this.reset()};
Fe.prototype.reset=function(){this.mode=0;this.Bf.reset(0);this.Cf.reset(1)};
var af=[128,1,2,131,4,133,134,7,8,137,138,11,140,13,14,143,16,145,146,19,148,21,22,151,152,25,26,155,28,157,158,31,32,161,162,35,164,37,38,167,168,41,42,171,44,173,174,47,176,49,50,179,52,181,182,55,56,185,186,59,188,61,62,191,64,193,194,67,196,69,70,199,200,73,74,203,76,205,206,79,208,81,82,211,84,213,214,87,88,217,218,91,220,93,94,223,224,97,98,227,100,229,230,103,104,233,234,107,236,109,110,239,112,241,242,115,244,117,118,247,248,121,122,251,124,253,254,127,0,129,130,3,132,5,6,135,136,9,10,139,
12,141,142,15,144,17,18,147,20,149,150,23,24,153,154,27,156,29,30,159,160,33,34,163,36,165,166,39,40,169,170,43,172,45,46,175,48,177,178,51,180,53,54,183,184,57,58,187,60,189,190,63,192,65,66,195,68,197,198,71,72,201,202,75,204,77,78,207,80,209,210,83,212,85,86,215,216,89,90,219,92,221,222,95,96,225,226,99,228,101,102,231,232,105,106,235,108,237,238,111,240,113,114,243,116,245,246,119,120,249,250,123,252,125,126,255],Ye=function(a,b,c){if(255===a&&255===b||!a&&!b)return{oe:a,pe:b,result:0};a=af[a];
b=af[b];if(a&128){if(!(b&128)&&0!==c.s&&c.nf===b)return{oe:a,pe:b,result:1}}else if(b&128&&1<=a&&31>=a)return{oe:a,pe:b,result:2};return{oe:a,pe:b,result:3}},bf=function(a,b,c){255===b&&255===c||!b&&!c?(45===++a.pf&&a.reset(),a.Bf.pc.clear(),a.Cf.pc.clear()):(a.pf=0,Ze(a.Bf,b,c))};
Fe.prototype.decode=function(){this.gc.sort(function(a,b){var e=a.time-b.time;return 0===e?a.Hh-b.Hh:e});for(var a=0;a<this.gc.length;a++){var b=this.gc[a];this.ld=b.time;0===b.type?bf(this,b.Jg,b.Kg):1===b.type&&this.Le&496&&Ze(this.Cf,b.Jg,b.Kg)}this.gc.length=0};var cf=function(a){this.buffer=new Uint8Array(new ArrayBuffer(a?a:2E4));this.offset=0},df=function(a){return a.buffer.subarray(0,a.offset)},N=function(a,b){M(a,[b>>24,b>>16,b>>8,b])},M=function(a,b){var c=b.length;if(!(a.offset+c<=a.buffer.length)){for(var d=a.buffer.length;d<a.offset+c;)d*=2;d=new Uint8Array(new ArrayBuffer(d));d.set(a.buffer,0);a.buffer=d}a.buffer.set(b,a.offset);a.offset+=c};var ef=function(a){this.name=a};ef.prototype.parse=function(){};var O=function(a){this.name=a;this.value=null};v(O,ef);O.prototype.parse=function(a){this.value=parseInt(a,10)};var P=function(a,b){this.name=a;this.value=b||null};v(P,ef);P.prototype.parse=function(a){this.value=a};var ff=function(a){this.name=a;this.value=null};v(ff,ef);ff.prototype.parse=function(a){this.value="true"===a.toLowerCase()};var gf=function(a){O.call(this,a)};v(gf,O);
gf.prototype.parse=function(a){if(a=a.match(Ib)){var b=!(a[6]||a[7]||a[8]);if(b&&!(a[2]||a[3]||a[4])||b&&a[5])a=null;else{var b=parseInt(a[2],10)||0,c=parseInt(a[3],10)||0,d=parseInt(a[4],10)||0,e=parseInt(a[6],10)||0,f=parseInt(a[7],10)||0,g=parseFloat(a[8])||0;a=a[1]?new Jb(-b,-c,-d,-e,-f,-g):new Jb(b,c,d,e,f,g)}}else a=null;this.value=60*(60*(24*a.ib+a.nb)+a.vb)+a.Bb};var hf=function(a){this.name=a;this.value=null};v(hf,ef);
var jf={PLAYREADY:"9A04F079-9840-4286-AB92-E65BE0885F95",WIDEVINE:"EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED",tj:"URN:MPEG:DASH:MP4PROTECTION:2011"};hf.prototype.parse=function(a){a=a.toUpperCase();for(var b in jf)if(jf.hasOwnProperty(b)&&0<=a.indexOf(jf[b])){this.value=jf[b];break}};var kf=function(a){this.name=a;this.value=null};v(kf,ef);
kf.prototype.parse=function(a){a=a.toUpperCase();0<=a.indexOf("9A04F079-9840-4286-AB92-E65BE0885F95")?this.value=ge:0<=a.indexOf("EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED")&&(this.value=he)};var lf=function(a,b){for(var c in b)if(b.hasOwnProperty(c)&&b[c]instanceof ef){var d=b[c],e=a.getNamedItem(d.name);e&&d.parse(e.value)}};var mf=function(a){z.call(this);this.oj=a;this.Kf=this.nd=null;this.Ja=0;this.f=new D;C(this.f,"success",this.Pd,!1,this);C(this.f,"error",this.wc,!1,this);C(this.f,"timeout",this.Gh,!1,this);C(this.f,"ready",this.fg,!1,this)};v(mf,z);mf.prototype.G=function(){this.f.M();mf.C.G.call(this)};mf.prototype.load=function(a){this.nd=a.url;this.Kf=a.headers;this.f.ne=a.withCredentials;this.f.Gb=Math.max(0,a.timeoutInterval);this.Ja=0;this.f.send(this.nd,void 0,void 0,this.Kf)};mf.prototype.abort=function(){this.f.abort()};
var nf=function(a){return new Od(a.nd,a.f.tb,Kc(a.f),a.f.getAllResponseHeaders(),Mc(a.f))};k=mf.prototype;k.Pd=function(a){this.gd(Mc(a.target))};k.wc=function(){408===Kc(this.f)?this.Gh():this.gd(null)};k.Gh=function(){this.Ja++;3<this.Ja&&this.gd(null)};k.fg=function(){0<this.Ja&&this.f.send(this.nd,void 0,void 0,this.Kf)};k.gd=function(a){this.Ja=0;this.oj.Tb(a)};var of=function(a){mf.call(this,a);this.b=null};v(of,mf);
of.prototype.Vc=function(a,b){this.b=a;var c=new Nd;c.url=this.nd=b;c.setResponse=this.gd.bind(this);a.updateManifestRequestInfo&&a.updateManifestRequestInfo(c);c.skipRequest||this.load(c)};of.prototype.gd=function(a){a&&this.b&&this.b.processManifest&&(a=this.b.processManifest(a));of.C.gd.call(this,a)};var pf=function(a){if(a[7]<<8|1!==a[6])return A(ae,"PlayReady header object is not valid"),null;for(var b=a[9]<<8|a[8],b=b+10,c="",d=10;d<b;d+=2)c+=String.fromCharCode(a[d+1]<<8|a[d]);d=b=null;for(c=(new DOMParser).parseFromString(c.trim(),"text/xml").childNodes[0].firstElementChild.firstElementChild;null!=c;c=c.nextElementSibling)"LA_URL"===c.nodeName?d=c.textContent:"KID"===c.nodeName&&(b=ie(window.atob(c.textContent)));return b?{systemId:ge,zd:a,Kd:new fe(b,!0),url:d,Je:8}:(A(ae,"PlayReady rights management header does not have KID"),
null)},qf=function(a){a=ie(window.atob(a.trim()));return pf(a)},Q=function(a){this.host=a;this.dd=this.sc=this.uri=null;this.ea=!1;this.duration=-1;this.h=[];this.Nf=[]};Q.prototype.getStreamCount=function(){return this.h.length};Q.prototype.getStreamCount=Q.prototype.getStreamCount;Q.prototype.enableStream=function(a,b){var c=this.h[a];c.index=-1;c.O=-1;c.W=!0;c.enabled=b;c.Ha=!1;this.Nf[a]=[]};Q.prototype.enableStream=Q.prototype.enableStream;Q.prototype.isStreamEnabled=function(a){return this.h[a].enabled};
Q.prototype.isStreamEnabled=Q.prototype.isStreamEnabled;Q.prototype.getQualityLevel=function(a){return this.h[a].O};Q.prototype.getQualityLevel=Q.prototype.getQualityLevel;Q.prototype.getStreamInfo=function(a){a=this.h[a];for(var b=[],c=0;c<a.B.length;c++)b.push(a.B[c].ga);return new Pd(a.codecs,a.mimeType,b,a.language,a.name,a.role)};Q.prototype.getStreamInfo=Q.prototype.getStreamInfo;k=Q.prototype;
k.Tb=function(){for(var a=null,b=0;b<this.h.length;b++){var c=this.h[b];if(1===c.type)if(MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.a6"'))if(je(c.codecs)){a=c;break}else a||(a=c);else if(!je(c.codecs)){a=c;break}}a&&(a.enabled=!0);for(b=0;b<this.h.length;b++)if(c=this.h[b],2===c.type){c.enabled=!0;break}if(this.host.onManifestReady)this.host.onManifestReady();this.dd.onManifestReady()};k.load=function(a){this.dd=a;this.Vc()};
k.Vc=function(){var a=this.host.url;this.uri=new E(a);this.sc=new of(this);this.sc.Vc(this.host,a)};k.cc=function(){this.sc&&(this.sc.M(),this.sc=null)};k.Xe=function(a,b,c){a=this.h[a];a.O=b;a.Ha=!0;rf(c)};k.updateLicenseRequestInfo=function(){};k.Rg=function(){return this.ea?-1:this.duration};
k.La=function(a){a=this.h[a];var b=a.O;if(0>b)return null;a=a.B[b];var c=a.g;if(0===c.length)return null;var b=c[0].time,d=c.length-1,c=c[d].time+c[d].duration;this.ea&&(c-=20,c<b&&(c=b));return{start:b-a.P,end:c-a.P}};k.seek=function(a,b){var c=this.h[a],d=c.B[c.O],e=d.g,f=this.La(a);if(!f)return!1;b<f.start&&(b=f.start);b>f.end&&(b=f.end);b+=d.P;for(d=e.length-1;0<=d;d--)if(b>=e[d].time)return c.index=d,c.Ha=!0;return!1};
k.Qb=function(a){a=this.h[a];var b=a.index+1;return b<a.B[a.O].g.length?(a.index=b,!0):!1};k.Ob=function(a){var b=this.h[a];a=b.index;b=b.B[b.O].g;return!this.ea&&a===b.length-1};k.getSegmentInterval=function(a){var b=this.h[a],c=b.O;return 0<=c&&(a=b.index,0<=a&&(b=b.B[c],c=b.g,a<c.length))?{time:c[a].time-b.P,duration:c[a].duration}:{time:0,duration:0}};k.reset=function(a){this.h[a].index=-1};k.uc=function(a){a=this.h[a];var b=a.B[a.O];null!==b.ab||null!==b.F&&null!==b.F.ba||(a.Ha=!1);return a.Ha};
k.Rh=function(a,b){this.h[a].Ha=!1;65536<b.length||(this.Nf[a][this.h[a].O]=b)};k.Rc=function(a){var b;b=this.h[a];var c=this.Nf[a];return(b=b&&c?c[b.O]||null:null)?(this.h[a].Ha=!1,b):null};k.updateSegmentRequestInfo=function(){};k.processSegment=function(){};k.we=function(){return 0};var sf=function(){this.m=null;this.Mc=this.zc=this.Xg=this.kf=this.ye=this.Xd=this.D=0};sf.prototype.bb=function(){return null===this.m};sf.prototype.Ce=function(){return this.D>=this.m.length};sf.prototype.ba=function(a){this.m=a;this.Mc=this.zc=this.kf=this.ye=this.Xd=this.D=0};
sf.prototype.parse=function(){for(var a=this.D;this.D<this.m.length&&!(524288<this.D-a);){for(;this.D<this.m.length&&71!==this.m[this.D];)this.D++;if(this.D+188>this.m.length)break;var b=this.D+188,c=b-1;this.D++;var d=this.m[this.D]&64,e=this.m[this.D]&31;this.D++;e=e<<8|this.m[this.D];this.D++;var f=(this.m[this.D]&48)>>4;this.D++;f&2&&(this.D+=this.m[this.D]+1);if(0===e||e===this.Xd)if(d&&this.D++,c=this.m[this.D],this.D++,0==c)for(c=this.D,d=this.m[c]&15,c++,d=d<<8|this.m[c],c++,d=c+d-4,c+=5;c<
d;)if(e=this.m[c],c++,e=(e<<8)+this.m[c],c++,0===e)c+=2;else{this.Xd=this.m[c]&31;c++;this.Xd=(this.Xd<<8)+this.m[c];break}else{if(2==c)for(c=this.D,d=this.m[c]&15,c++,d=d<<8|this.m[c],c++,d=c+d-4,c+=5,c+=2,e=this.m[c]&15,c++,e=e<<8|this.m[c],c+=e+1;c<d;){e=this.m[c];c++;f=this.m[c]&31;c++;f=f<<8|this.m[c];c++;switch(e){case 27:case 219:this.ye=f;break;case 15:case 207:this.kf=f;break;case 21:this.Xg=f}e=this.m[c]&15;c++;e=e<<8|this.m[c];c+=e+1}}else if(e===this.Xg)this.Jh(this.D,c,!!d);else if(e===
this.ye||e===this.kf)d&&this.ig(this.D),e===this.ye&&this.Ih(this.D,c);this.D=b}};var tf=function(a,b){var c=((a.m[b]&14)<<13)/1.373291015625,c=c+(a.m[b+1]<<6)/1.373291015625,c=c+(a.m[b+2]&254)/5.4931640625,c=c+a.m[b+3]/703.125;return c+=(a.m[b+4]&254)/18E4};sf.prototype.ig=function(a){if(0===this.m[a]&&0===this.m[a+1]&&1===this.m[a+2]){a+=7;var b=this.m[a]>>6&3;a++;var c=this.m[a];a++;this.D=a+c;2===b?this.Mc=this.zc=tf(this,a):3===b&&(this.zc=tf(this,a),this.Mc=tf(this,a+5))}};sf.prototype.Jh=function(){};
sf.prototype.Ih=function(){};var Ud=function(a){sf.call(this);this.Db=new Vd(a)};v(Ud,sf);Ud.prototype.ba=function(a){Ud.C.ba.call(this,a);this.Db.clear()};Ud.prototype.Qh=function(){};
Ud.prototype.Ih=function(a,b){for(var c=0;;){var d;a:{d=a;for(var e=b,e=e-3;d<=e;){if(0===this.m[d]&&0===this.m[d+1]){if(0===this.m[d+2]&&1===this.m[d+3]){d+=4;break a}if(1===this.m[d+2]){d+=3;break a}}d++}d=-1}e=0<=d;if(0<this.Db.Cb||6===c){var c=e?d-1:b,f=this.Db;f.Cb+(c-a+1)<=f.Ra.length||Zd(this.Db,this.zc);this.Db.append(this.m.subarray(a,c+1))}if(!e)break;Zd(this.Db,this.zc);a=d;c=this.m[a++]&31}};var uf=function(){};u("cast.player.core.CurrentTimeCallback",uf);uf.prototype.Pc=function(){};var vf=function(){};u("cast.player.core.PlayerCallbacks",vf);vf.prototype.vc=function(){};vf.prototype.Dh=function(){};vf.prototype.ph=function(){};var xf=function(a,b,c,d){this.b=a;this.j=b;this.hb=c;this.Jb=this.b.initialBandwidth;this.hc=wf(this,this.Jb);B(this.a,this.j+": initial "+this.hb[this.hc]);this.ae=0;this.df=null;this.jh=t();this.Xc=d};xf.prototype.a=y("cast.player.core.QualityManager");xf.prototype.M=function(){yf(this,!0)};var wf=function(a,b){for(var c=-1,d=Number.MAX_VALUE,e=0,f=0;f<a.hb.length;f++){if(b>=a.hb[f]){var g=b-a.hb[f];g<d&&(c=f,d=g)}a.hb[e]>a.hb[f]&&(e=f)}return 0>c?e:c};
xf.prototype.yg=function(a,b){var c=t();if(!a&&null!==this.df&&c-this.df<2E3*(b||0))return this.hc;this.df=c;c=wf(this,.7*this.Jb);this.b.getQualityLevel&&(c=this.b.getQualityLevel(this.j,c));c!==this.hc&&(B(this.a,this.j+": from "+this.hb[this.hc]+" to "+this.hb[c]),yf(this,!0),this.hc=c);return this.hc};
var yf=function(a,b){var c=t()-a.jh;if(b||!(3E5>c)){a:{var d=a.hb[a.hc],e=a.Xc,f;if(be(e))e="Audio",f=2E5,K("Cast.MPL.AudioBitrate",d);else if(ce(e))e="Video",f=1E6,K("Cast.MPL.VideoBitrate",d);else break a;d=Math.floor(d/f);9<d&&(d=9);K("Cast.MPL."+e+"Bitrate"+d,c)}a.jh=t()}};var zf=function(){};u("cast.player.core.ProcessSourceDataCallback",zf);zf.prototype.Pe=function(){};var Af=function(a,b,c,d,e){z.call(this);this.b=a;this.Yi=e;this.Ec=c;this.ia=d;this.j=b;this.ff=!1;this.na=this.Fa=this.Ub=null;this.Lb=new Nc;this.Lc=0;this.createBuffer()};v(Af,z);k=Af.prototype;k.G=function(){Af.C.G.call(this);this.Lb.clear();this.na&&(jc(this.na,"updateend",this.Fh,!1,this),"closed"!==this.ia.readyState&&this.ia.removeSourceBuffer(this.na))};k.a=y("cast.player.core.SourceBufferManager");
k.createBuffer=function(){if(null===this.na&&"open"===this.ia.readyState){try{this.na=this.ia.addSourceBuffer(this.Ec.mimeType+'; codecs="'+this.Ec.codecs+'"')}catch(a){L(this.b,110,void 0,a.message);return}C(this.na,"updateend",this.Fh,!1,this);Bf(this)}};k.Ya=function(a){var b=this.Lc+(this.Ub?this.Ub.duration:0);return this.Fa?this.Fa.time+this.Fa.duration-a+b:b};
k.reset=function(){this.Ub=this.Fa=null;this.Lb.clear();this.Lc=0;this.Fd()?Cf(this):(B(this.a,this.j+": queue remove"),this.Lb.enqueue({gg:1,lf:null}));this.Fd()?Df(this):(B(this.a,this.j+": queue abort"),this.Lb.enqueue({gg:0,lf:null}))};k.Fd=function(){return null!==this.na&&!this.ff&&this.Lb.bb()};
var Bf=function(a){for(;!a.Lb.bb();){var b=Oc(a.Lb),c=b.lf;switch(b.gg){case 2:B(a.a,a.j+": dequeue append");a.Lc-=c.interval.duration;Ef(a,c.data,c.interval,c.P,c.W);return;case 1:B(a.a,a.j+": dequeue remove");Cf(a);return;case 0:B(a.a,a.j+": dequeue abort"),Df(a)}}};
Af.prototype.Fh=function(){for(var a=this.na.buffered,b=0;b<a.length;b++)B(this.a,this.j+": "+a.start(b)+" - "+a.end(b));B(this.a,this.j+": updateend");null!==this.Ub&&0!==this.Ub.duration&&(this.Fa=this.Ub);this.Ub=null;this.ff=!1;Bf(this)};
var Ef=function(a,b,c,d,e){e?(Df(a),e=Ff(a,c.time),a.na.timestampOffset=e-d,B(a.a,a.j+": timestampOffset = "+a.na.timestampOffset)):e=Ff(a,c.time);B(a.a,a.j+": append");a.ff=!0;a.na.appendBuffer(b);a.Ub={time:e,duration:c.duration};a.Yi.Pe(a.Ec.mimeType,b,a.na.timestampOffset,e,c.duration)},Df=function(a){"open"===a.ia.readyState?(B(a.a,a.j+": abort"),a.na.abort()):A(a.a,a.j+": unable to abort")},Cf=function(a){B(a.a,a.j+": remove");a.ff=!0;a.na.remove(0,a.ia.duration)};
Af.prototype.append=function(a,b,c,d){this.Fd()?Ef(this,a,b,c,d):(B(this.a,this.j+": queue append"),this.Lc+=b.duration,this.Lb.enqueue({gg:2,lf:{data:a,interval:{time:b.time,duration:b.duration},P:c,W:d}}))};var Ff=function(a,b){if(!a.Fa||a.b.wi)return b;var c=b,d=a.na.buffered;0<d.length&&(b=d.end(d.length-1));B(a.a,"adjustTime: "+c+" : "+b);return b};var Gf=function(){this.ve=30};Gf.prototype.a=y("cast.player.core.TtmlParser");
var Hf=/([0-9]*\.?[0-9]+)?(h|ms|m|s|f)/,If=function(a,b){for(var c=0;c<a.length;c++)if(a[c].localName===b)return a[c];return null},Jf=function(a,b){var c=b.split(":");if(1===c.length){var d=0;if(c=c[0].match(Hf)){var e=parseFloat(c[1]);switch(c[2]){case "h":d=3600*e;break;case "m":d=60*e;break;case "s":d=e;break;case "ms":d=e/1E3;break;case "f":d=e/a.ve}}else A(a.a,"unsupported time expression: "+b);return d}d=3600*parseInt(c[0],10)+60*parseInt(c[1],10)+parseFloat(c[2]);4===c.length&&(d+=parseInt(c[3],
10)/a.ve);return d},Kf=function(a){var b="";a=a.childNodes;for(var c=0;c<a.length;c++){var d=a[c];d.nodeType===Node.TEXT_NODE?(d=d.textContent.trim())&&(b+=d):"span"===d.localName?(b+=Kf(d),(d=d.attributes.getNamedItem("tts:fontStyle"))&&"italic"===d.value&&(b="<i>"+b+"</i>")):"br"===d.localName&&(b+="\n")}return b};
Gf.prototype.parse=function(a,b){var c=[],d=(new DOMParser).parseFromString(a,"text/xml"),e=If(d.childNodes,"tt");if(!e)return A(this.a,"missing tt"),c;d=If(e.childNodes,"body");if(!d)return A(this.a,"missing body"),c;(e=e.attributes.getNamedItem("ttp:frameRate"))?this.ve=parseInt(e.value,10):(A(this.a,"defaulting frameRate to30"),this.ve=30);d=If(d.childNodes,"div");if(!d)return A(this.a,"missing div"),c;for(e=0;e<d.childNodes.length;e++){var f=d.childNodes[e];if("p"===f.localName){for(var g=null,
h=null,l=Kf(f),n=0;n<f.attributes.length;n++){var p=f.attributes[n];"begin"===p.localName?g=Jf(this,p.value)+b:"end"===p.localName&&(h=Jf(this,p.value)+b)}l&&null!==g&&null!==h?c.push(new VTTCue(g,h,l)):A(this.a,"skipped cue, begin="+g+", end="+h+", text="+a)}}return c};var Lf=function(){};Lf.prototype.a=y("cast.player.core.WebvttParser");var Mf=/\n\s*\n/,Nf=/MPEGTS:([\d]*)/,Of=/align:(start|middle|end)/,Pf=/position:(\d*)%/,Qf=/size:(\d*)%/,Rf=/LOCAL:((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})/,Sf=/((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})[\t ]+--\x3e[\t ]+((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})/;
Lf.prototype.parse=function(a,b){for(var c=a.trim().split(Mf),d=b,e=0,f=0,g=c[0].split("\n"),h=0;h<g.length;h++)if(0===g[h].indexOf("X-TIMESTAMP-MAP")){var l=g[h].match(Rf);l&&(e=Tf(this,l[1]));(l=g[h].match(Nf))&&(f=parseInt(l[1],10)/9E4);break}b=d+(f-e);if(isNaN(b))return A(this.a,"invalid time offset"),[];d=[];for(e=1;e<c.length;e++)if(c[e]){for(var n=c[e],l=b,p=null,h=g=f=null,q=n.split("\n"),R=void 0,R=0;R<q.length;R++)if(p=q[R].match(Sf)){f=q[R].match(Of);g=q[R].match(Pf);h=q[R].match(Qf);break}p?
(n=Tf(this,p[1]),p=Tf(this,p[2]),q=q.slice(R+1).join("\n"),isNaN(n)||isNaN(p)||!q?(A(this.a,"skipped cue, begin="+n+", end="+p+", text="+q),f=null):(l=new VTTCue(n+l,p+l,q),f&&(l.align=f[1]),g&&(l.position=parseInt(g[1],10)),h&&(l.size=parseInt(h[1],10)),f=l)):(A(this.a,"no timestamps in cue="+n),f=null);f&&d.push(f)}return d};var Tf=function(a,b){var c=b.split(":");if(3<c.length)return A(a.a,"unexpected time format="+b),0;for(var d=0,e=0;e<c.length;e++)d=60*d+parseFloat(c[e]);return d};var Uf=function(a,b,c){z.call(this);this.i=b;this.ke=document.createElement("track");this.ke.src="";this.ke.kind="captions";this.i.appendChild(this.ke);this.Fc=this.ke.track;this.Fc.mode="showing";this.oi=a;this.bc=c;K("Cast.MPL.Captions",oe(this.bc));this.Sd=null;"ttml"===c?this.Sd=new Gf:"webvtt"===c&&(this.Sd=new Lf);this.Fa=null;this.Zh=0};v(Uf,z);Uf.prototype.G=function(){Vf(this);this.Fc.mode="disabled";this.i.removeChild(this.ke);Uf.C.G.call(this)};
var Vf=function(a){var b=a.Fc.cues;if(b)for(;0<b.length;)a.Fc.removeCue(b[0])};k=Uf.prototype;k.createBuffer=function(){};k.reset=function(){Vf(this);this.Fa=null};k.Fd=function(){return!0};
k.append=function(a,b,c,d){d&&(this.Zh=b.time-c);if(this.Sd){var e=0;switch(this.bc){case "ttml":e=b.time;break;case "webvtt":e=this.Zh}c=Wf(this);d=0<c.length?c[c.length-1].startTime:-Infinity;for(a=this.Sd.parse(decodeURIComponent(escape(String.fromCharCode.apply(null,a))),e);0<a.length;){var e=a.pop(),f=!1;if(e.startTime<d||.1>=Math.abs(e.startTime-d))for(var g=c.length-1;0<=g;g--)if(c[g].text===e.text&&.1>=Math.abs(c[g].startTime-e.startTime)&&.1>=Math.abs(c[g].endTime-e.endTime)){f=!0;break}f||
this.addCue(e)}}this.Fa=b};k.Ya=function(a){return this.Fa?this.Fa.time+this.Fa.duration-a:0};k.addCue=function(a){this.Fc.addCue(a)};var Wf=function(a){for(var b=[],c=a.Fc.cues,d=a.oi.Pc(),e=0;e<c.length;){var f=c[e];f.endTime<d?a.Fc.removeCue(f):(b.push(f),e++)}return b};Uf.prototype.parse=function(a,b){for(var c=this.Sd.parse(a,b);0<c.length;)this.addCue(c.pop())};var Xf=function(a,b,c,d){Uf.call(this,a,b.mediaElement,c);a=new Nd;a.url=d;b.updateCaptionsRequestInfo&&b.updateCaptionsRequestInfo(a);this.Xh=new mf(this);this.Xh.load(a)};v(Xf,Uf);Xf.prototype.G=function(){this.Xh.M();Xf.C.G.call(this)};Xf.prototype.reset=function(){};Xf.prototype.Tb=function(a){a&&this.parse(a,0)};var Yf=function(a){D.call(this);this.Jc=null;this.eg=a};v(Yf,D);Yf.prototype.tf=function(){this.Jc&&(this.Jc.onprogress=null);this.Jc=Yf.C.tf.call(this);this.Jc.onprogress=this.eg;return this.Jc};Yf.prototype.G=function(){this.Jc&&(this.Jc.onprogress=null);Yf.C.G.call(this)};var Zf=function(a,b,c,d,e){z.call(this);this.Ia=a;this.b=b;this.v=c;this.j=d;c=c.getStreamInfo(d);this.ec=de(c.role,c.mimeType)?new Uf(a,b.mediaElement,c.codecs):new Af(b,d,c,e,a);qe(c.codecs);K("Cast.MPL.MimeType",we(c.mimeType));K("Cast.MPL.StreamType",be(c.mimeType)?1:ce(c.mimeType)?2:de(c.role,c.mimeType)?3:0);this.Fe=!1;this.s=1;this.Ue=0;this.cf=!1;this.Ag=this.Ja=0;this.qd=400;this.oc=this.Sc=this.Tc=this.Ge=!1;this.ih=this.mf=0;this.xd=new Nc;this.R=new Nd;this.R.setResponse=this.cj.bind(this);
this.f=new Yf(this.eg.bind(this));Bc(this.f);C(this.f,"success",this.Pd,!1,this);C(this.f,"error",this.wc,!1,this);C(this.f,"timeout",this.wc,!1,this);C(this.f,"ready",this.fg,!1,this);this.de=new xf(b,d,this.v.getStreamInfo(this.j).bitrates,c.mimeType)};v(Zf,z);Zf.prototype.a=y("cast.player.core.SegmentManager");Zf.prototype.G=function(){this.ec.M();this.de.M();this.f.M();Zf.C.G.call(this)};
Zf.prototype.cj=function(a,b){a?$f(this,{nc:this.oc,data:new Uint8Array(a),ed:this.R.ed},b):this.wc();this.Ge=!1;this.Tc&&(ag(this),this.Tc=!1)};Zf.prototype.yg=function(){bg(this,!0)};
var bg=function(a,b,c){var d=a.v.getQualityLevel(a.j);b=a.de.yg(b,c);if(b===d)return!1;a.Fe=!0;a.v.Xe(a.j,b,a);return!0},cg=function(a,b,c,d,e){a.Sc?(B(a.a,a.j+": segment processed"),a.Sc=!1,a.b.processSegment&&a.b.processSegment(a.j,b),a.ec.append(b,c,d,e)):B(a.a,a.j+": not processing");a.xd.bb()||(B(a.a,a.j+": dequeue segment"),a.$d(Oc(a.xd)))},dg=function(a,b){a.Sc?(B(a.a,a.j+": queue segment"),a.xd.enqueue(b)):a.$d(b)};
Zf.prototype.$d=function(a){B(this.a,this.j+": process segment");this.Sc=!0;this.v.processSegment(this.j,a,this)};Zf.prototype.reset=function(){B(this.a,this.j+": reset");this.s=1;this.Ue=0;this.cf=!1;eg(this);this.Sc=this.Tc=!1;this.xd.clear();this.oc||this.f.abort();this.v.reset(this.j);this.ec.reset();this.Ia.vc()};Zf.prototype.Pd=function(a){$f(this,{nc:this.oc,headers:this.f.getAllResponseHeaders(),data:new Uint8Array(Mc(a.target)),ed:this.R.ed})};
var $f=function(a,b,c){var d=ba(c)?c:t()-a.Ue;c=a.de;var e=b.data.length;0>=d||(c.b.trackBandwidth&&c.b.trackBandwidth(c.j,d,e),ve("Cast.MPL.Bandwidth",e/d),ve("Cast.MPL.SegmentStats.Size",e),ve("Cast.MPL.SegmentStats.Time",d),d=8E3*e/d,c.Jb=.8*d+(1-.8)*c.Jb,B(c.a,c.j+": current="+d.toFixed(2)+", average="+c.Jb.toFixed(2)),yf(c),c.ae=0);eg(a);dg(a,b);if(a.oc)a.oc=!1,a.v.Rh(a.j,b.data);else if(a.cf=!1,b=a.ec.Ya(a.Ia.Pc()),c=10>b,d=a.v.getSegmentInterval(a.j).duration,bg(a,c,d),a.mf=.8*b+(1-.8)*a.mf,
3E5<t()-a.ih&&(K("Cast.MPL.AverageBufferDuration",parseInt(a.mf,10)),a.ih=t()),a.Fe)return;a.Ia.vc()};k=Zf.prototype;k.fg=function(){this.Tc&&(ag(this),this.Tc=!1)};
k.wc=function(){var a=this.de,b=t()-this.Ue;a.b.trackBandwidth&&a.b.trackBandwidth(a.j,b,a.ae);0>=b?(A(a.a,"bad time on error"),a.Jb=0):a.Jb=8E3*a.ae/b;a.ae=0;a.df=null;B(a.a,a.j+": current="+a.Jb.toFixed(2));yf(a);!this.oc&&0===this.Ja&&bg(this,!0)?(this.cf=!0,this.Ia.vc()):(this.Ja++,this.Ja>this.b.segmentRequestRetryLimit?(a=this.Ge?void 0:new Od(this.R.url,this.f.tb,Kc(this.f),this.f.getAllResponseHeaders(),Mc(this.f)),this.b.lj?(eg(this),this.Ia.vc()):(this.s=-1,L(this.b,301,a))):(this.Ag=t(),
this.Ia.vc(this.qd)))};k.eg=function(a){this.de.ae=a.loaded};k.Ya=function(a){return this.ec.Ya(a)};k.createBuffer=function(){this.ec.createBuffer()};
var rf=function(a){a.Fe=!1;a.Ia.ph();if(a.v.uc(a.j)){var b=a.v.Rc(a.j);if(!b){a.oc=!0;ag(a);return}dg(a,{nc:!0,data:b})}a.Ia.vc()},ag=function(a){if(fg(a))a.Tc=!0;else{a.Ue=t();a.v.updateSegmentRequestInfo(a.j,a.R);var b=a.v.getSegmentInterval(a.j).duration;a.R.timeoutInterval=Math.max(2E3*b,1E4);a.R.skipRequest=!1;if(a.b.updateSegmentRequestInfo&&(a.b.updateSegmentRequestInfo(a.R,a.j),a.R.skipRequest)){a.Ge=!0;return}a.f.ne=a.R.withCredentials;a.f.Gb=Math.max(0,a.R.timeoutInterval);a.f.send(a.R.url,
void 0,void 0,a.R.headers)}};Zf.prototype.Dd=function(){return 0<this.s||this.Sc||fg(this)||!this.ec.Fd()};Zf.prototype.Rf=function(){return!this.Fe&&2>this.xd.Oc()&&!fg(this)};var fg=function(a){return a.f.Dd()||a.Ge},gg=function(a){if(a.v.uc(a.j)){var b=a.v.Rc(a.j);dg(a,{nc:!0,data:b})}};
Zf.prototype.kg=function(){if(0<this.Ja||this.cf){if(0<this.Ja){if(t()-this.Ag<this.qd)return;this.qd*=2}ag(this)}else if(1===this.s){var a=this.Ia.Pc();this.v.seek(this.j,a)?(B(this.a,this.j+": seek success "+a),this.s=2,this.Ia.Dh(this.j),gg(this),ag(this)):B(this.a,this.j+": seek failure "+a)}else this.v.Qb(this.j)&&(gg(this),ag(this)),this.v.Ob(this.j)&&(this.s=0)};var eg=function(a){a.Ja=0;a.Ag=0;a.qd=400};var hg=function(a,b){this.b=a;this.Of=!1;this.qf=b;this.cg=this.Ti.bind(this);this.ag=this.Ne.bind(this)};hg.prototype.cancel=function(){this.Of=!0};hg.prototype.Ne=function(a){if(!this.Of){var b=void 0;a&&a.name&&a.message&&(b=a.name+": "+a.message);L(this.b,203,void 0,b)}};hg.prototype.Ti=function(a){this.Of||this.qf(a)};var ig=function(a,b,c,d,e){hg.call(this,a,b);window.crypto.subtle.decrypt({name:"AES-CBC",iv:d},c,e).then(this.cg,this.ag)};v(ig,hg);var jg=function(a){this.Wc=a;this.Ad=null;this.vg=this.fc=0},kg=function(a,b){var c=b.length>a.fc?b.subarray(0,a.fc):b;M(a.Ad,c);a.fc-=c.length};
jg.prototype.append=function(a,b,c,d){b=(new Uint8Array(b)).subarray(c,d);if(this.Ad)return kg(this,b),0===this.fc&&(this.Wc&&this.Wc("ID3",df(this.Ad),this.vg),this.fc=this.vg=this.Ad=null),0;c=0;73!==b[c++]||68!==b[c++]||51!==b[c++]?c=null:(c+=3,d=b[c++]<<21|b[c++]<<14|b[c++]<<7|b[c++],c+=d);if(null===c)return 0;if(c<=b.length)return this.Wc&&this.Wc("ID3",b.subarray(0,c),a),c;this.Ad=new cf(c);this.vg=a;this.fc=c;kg(this,b);return 0};var lg=function(a,b,c){hg.call(this,a,b);window.crypto.subtle.importKey("raw",c,{name:"AES-CBC"},!0,["decrypt"]).then(this.cg,this.ag)};v(lg,hg);var mg=function(){this.Da=-1;this.H=null;this.Mi=this.Li.bind(this)};mg.prototype.a=y("cast.player.hls.Iterator");mg.prototype.Li=function(a,b){for(var c=0,d=null,e=0;e<b.length;e++)if(null!==b[e].Qe){c=e;d=b[e].Qe;break}if(null===d)return null;for(var f=-1,g=Infinity,e=0;e<a.length;e++){var h=Math.abs(a[e].Qe-d);if(100>h)return e;h<g&&(f=e,g=h)}return 0>f||g>500*this.H.$e?-1:f-c};
var ng=function(a,b){for(var c=b[0].pg,d=0;d<a.length;d++)if(a[d].pg===c)return d;return null},og=function(a,b,c,d){var e=d(b,a);if(null===e){e=d(a,b);if(null===e)return-1;e*=-1}d=c-e;c<e?(b=b[c],0<a.length&&(a[0].vf=!0),a.splice(0,0,b),d=0):d>=a.length&&(a.length=0,Array.prototype.push.apply(a,b),d=c);return d};k=mg.prototype;
k.update=function(a){if(0>this.Da)this.H=a;else if(0===a.g.length)A(this.a,"new manifest has no segment");else{var b=this.H.g,c=b[this.Da],d=a.g,e=-1;this.H.Jf&&a.Jf&&(e=og(d,b,this.Da,this.Mi),0>e&&A(this.a,"No match was found using program-date-time"));0>e&&(e=og(d,b,this.Da,ng),0>e&&A(this.a,"No match was found using sequence number"));0>e&&(A(this.a,"New segments are appended after current"),0<d.length&&(d[0].vf=!0),d.splice(0,0,c),e=0);b=e;c=c.ta;d[b].ta=c;if(!(b+1>=d.length))for(c=c+d[b].duration-
d[b+1].ta,b+=1;b<d.length;b++)d[b].ta+=c;this.Da=e;this.H=a}};k.next=function(){var a=this.Da+1;return a<this.H.g.length?(this.Da=a,!0):!1};k.Ob=function(){return!this.H.ea&&this.Da===this.H.g.length-1};k.La=function(){var a=this.H.g,b=a[0].ta,c=a.length-1,a=a[c].ta+a[c].duration;this.H.ea&&(a-=3*this.H.$e,a<b&&(a=b));return{start:b,end:a}};
k.seek=function(a){var b=this.La();if(!b)return!1;for(var c=this.H.g,d=0;d<c.length;d++)c[d].W=!1;a<b.start&&(a=b.start);a>b.end&&(a=b.end);for(d=c.length-1;0<=d;d--)if(a>=c[d].ta)return this.Da=d,c[this.Da].W=!0;return!1};var pg=function(a){return 0>a.Da?null:a.H.g[a.Da]};var qg=function(a,b){this.hi=new E(a);this.pb=!1!==b;this.s=0;this.Id=this.me=this.sb=this.Ec=this.fb=null;this.zf=this.Xb=0;this.wf=!1;this.bd=null;this.Wg=this.Vg=!1;this.H={bh:!1,ea:!0,Re:"none",Jf:!1,$e:0,wg:0,g:[],kd:[],Uf:[]}};qg.prototype.a=y("cast.player.hls.Parser");
qg.prototype.parse=function(a){var b=a.split("\n");for(a=0;a<b.length;a++)if(!rg(this,b[a]))return A(this.a,"failed to parse HLS playlist"),this.H=null;if(this.Vg&&this.Wg)for(a=0;a<this.H.kd.length;)b=this.H.kd[a].codecs,0===b.indexOf("mp4a.")&&0>b.indexOf(",")?(A(this.a,"filtered out "+b+" stream"),this.H.kd.splice(a,1)):a++;return this.H};
var sg=function(a,b){var c=new E(b);c.Ab||(b=a.hi.resolve(c).toString());return b},rg=function(a,b){b=b.trim();if(!b)return!0;if("#"!==b[0]){var c;c=b;if(3!=a.s&&4!=a.s)tg(a,"URI"),c=!1;else{c=sg(a,c);if(3==a.s){a.fb.Qe=a.bd;null!==a.bd&&(a.bd+=1E3*a.fb.duration);if(a.sb||a.me){a.fb.hh=a.sb;a.fb.pd=a.me;var d=a.fb,e;if(a.Id){e=a.Id;for(var f=new Uint8Array(16),g=15,h=e.length;0<h;h-=2,g--)f[g]=parseInt(1<h?e.substr(h-2,2):e.substr(0,1),16)}else for(e=a.fb.pg,f=new Uint8Array(16),g=15;0<=g;g--)f[g]=
e&255,e>>=8;e=f;d.Hd=e}a.fb.url=c;a.H.g.push(a.fb)}else 4==a.s&&(a.Ec.url=c,a.H.kd.push(a.Ec));a.s=2;c=!0}return c}c="#EXTINF:";if(0===b.indexOf(c))return d=b.indexOf(","),c=b.substr(c.length,(0<=d?d:b.length)-c.length),2!=a.s&&1!=a.s?(tg(a,"EXTINF"),c=!1):(c=parseFloat(c),a.fb={pg:a.Xb,url:"",Gg:null,ta:a.zf,duration:c,vf:a.wf,Qe:a.bd,hh:null,pd:null,Hd:null,W:!1},a.H.wg+=c,a.zf+=c,a.wf=!1,a.Xb+=1,a.s=3,c=!0),c;c="#EXT-X-KEY:";if(0===b.indexOf(c))return ug(a,b.substr(c.length));if(0===b.indexOf("#EXT-X-DISCONTINUITY"))return 2!=
a.s&&1!=a.s?(tg(a,"EXT-X-DISCONTINUITY"),c=!1):(a.wf=!0,a.s=2,c=!0),c;c="#EXT-X-PROGRAM-DATE-TIME:";if(0===b.indexOf(c))return c=b.substr(c.length),2!=a.s&&3!=a.s&&1!=a.s?(tg(a,"EXT-X-PROGRAM-DATE-TIME"),c=!1):(d=Date.parse(c),isNaN(d)?(A(a.a,"cannot parse #EXT-X-PROGRAM-DATE-TIME: "+c),c=!1):(a.bd=d,c=a.H.Jf=!0)),c;c="#EXT-X-BYTERANGE:";if(0===b.indexOf(c))return c=b.substr(c.length),3!=a.s?(tg(a,"EXT-X-BYTERANGE"),c=!1):(c=c.split("@"),d=parseInt(c[1],10),a.fb.Gg={start:d,end:d+parseInt(c[0],10)-
1},c=!0),c;if(0===b.indexOf("#EXTM3U"))return 0!=a.s?(tg(a,"EXTM3U"),c=!1):(a.s=1,c=!0),c;if(0===b.indexOf("#EXT-X-ENDLIST"))return 2!=a.s&&1!=a.s?(tg(a,"EXT-X-ENDLIST"),c=!1):(a.H.ea=!1,c=!0),c;c="#EXT-X-STREAM-INF:";if(0===b.indexOf(c))return e=b.substr(c.length),1!=a.s&&2!=a.s?(tg(a,"EXT-X-STREAM-INF"),c=!1):(f=e.match("BANDWIDTH=([0-9]+)"))?(c=parseInt(f[1],10),d=a.pb?"video/mp2t":"audio/mp4",(f=e.match('CODECS="([^"]*)"'))?(e=f[1],0===e.indexOf("mp4a.")&&0>e.indexOf(",")?a.Vg=!0:a.Wg=!0):e="avc1.4d401e,mp4a.40.2",
a.Ec={name:null,url:"",ga:c,mimeType:d,codecs:e,Pf:!0,language:null},a.H.bh=!0,a.s=4,c=!0):(A(a.a,"no BANDWIDTH attribute"),c=!1),c;c="#EXT-X-TARGETDURATION:";if(0===b.indexOf(c))return c=b.substr(c.length),1!=a.s?(tg(a,"EXT-X-TARGETDURATION"),c=!1):(a.H.$e=parseInt(c,10),c=!0),c;c="#EXT-X-MEDIA-SEQUENCE:";if(0===b.indexOf(c))return c=b.substr(c.length),1!=a.s?(tg(a,"EXT-X-MEDIA-SEQUENCE"),c=!1):(a.Xb=parseInt(c,10),a.s=1,c=!0),c;c="#EXT-X-MEDIA:";return 0===b.indexOf(c)?vg(a,b.substr(c.length)):
!0},tg=function(a,b){A(a.a,"unexpected "+b+": state "+a.s)},vg=function(a,b){if(2!=a.s&&1!=a.s)return tg(a,"EXT-X-MEDIA"),!1;var c=null,d=null,e=null,f=null,g=null,h=!1,l=b.match("TYPE=(AUDIO|VIDEO|SUBTITLES|CLOSED-CAPTIONS)");if(null===l)return!0;switch(l[1]){case "SUBTITLES":c="webvtt";d="text/vtt";break;case "AUDIO":c="mp4a.40.2";d="audio/mp4";break;default:return!0}l=b.match('URI="([^"]*)"');null!==l&&(e=sg(a,l[1]));l=b.match('LANGUAGE="([^"]*)"');null!==l&&(f=l[1]);l=b.match('NAME="([^"]*)"');
null!==l&&(g=l[1]);l=b.match("DEFAULT=(YES|NO)");null!==l&&(h="YES"===l[1]);e&&a.H.Uf.push({name:g,url:e,ga:0,mimeType:d,codecs:c,Pf:h,language:f});return!0},ug=function(a,b){if(2!=a.s&&3!=a.s&&1!=a.s)return tg(a,"EXT-X-KEY"),!1;var c;if(0<=b.indexOf("METHOD=AES-128")){if(c=b.match('URI="([^"]*)"'))a.sb=sg(a,c[1]);c=b.match("IV=0[x|X]([0-9a-fA-F]+)");a.Id=c?c[1]:null;a.me=null;a.H.Re="aes_128";return!0}if(0<=b.indexOf("METHOD=SAMPLE-AES")){c=b.match('KEYFORMAT="([^"]*)"');if(!c||"com.widevine"!==
c[1])return!0;if(1!==(cast.__platform__&&cast.__platform__.queryPlatformValue?cast.__platform__.queryPlatformValue("enable-hls-sample-aes"):void 0))return A(a.a,"SAMPLE-AES not support by Cast platform"),!1;if(c=b.match('URI="data:.*,([^"]*)"')){var d;try{d=JSON.parse(window.atob(c[1]))}catch(e){return!1}c=d.key_ids;if(!c||!Array.isArray(c)||0===c.length)return A(a.a,"no Widevine key ID"),!1;a.me={$i:d.provider,mi:d.content_id,Ke:c[0]}}c=b.match("IV=0[x|X]([0-9a-fA-F]+)");a.Id=c?c[1]:null;a.sb=null;
a.H.Re="widevine";return!0}if(0<=b.indexOf("METHOD=NONE"))return a.sb=null,a.me=null,a.Id=null,!0;A(a.a,"unsupported KEY");return!1};var wg=function(a,b,c){z.call(this);this.b=a;this.Wd=b;this.ub=new of(this);this.ca=null;this.pj=this.ef.bind(this);this.Eb=c;this.duration=-1;this.ua=null};v(wg,z);k=wg.prototype;k.a=y("cast.player.hls.Playlist");k.G=function(){this.ub.M();null!==this.ca&&(clearTimeout(this.ca),this.ca=null);wg.C.G.call(this)};k.load=function(){this.ef()};k.cc=function(){this.duration=-1;this.ua=null;this.ub.abort();null!==this.ca&&(clearTimeout(this.ca),this.ca=null)};
k.ef=function(){B(this.a,"update: "+this.Eb.url);this.ub.Vc(this.b,this.Eb.url)};k.Tb=function(a){a?(this.ua=(new qg(this.Eb.url)).parse(a))?(this.ua.ea?(a=1E3*this.ua.$e,this.ca=setTimeout(this.pj,a),B(this.a,"update in: "+a)):this.duration=this.ua.wg,this.Wd.bg(this)):L(this.b,412):L(this.b,312,nf(this.ub))};var xg=function(a,b,c,d){z.call(this);this.b=a;this.ub=new of(this);this.Nd=b;this.Wd=c;this.pb=d;this.$b=[];this.cb=[]};v(xg,z);xg.prototype.G=function(){this.ub.M();for(var a=0;a<this.cb.length;a++)this.cb[a].M();for(a=this.cb.length=0;a<this.$b.length;a++)this.$b[a].M();this.$b.length=0;xg.C.G.call(this)};xg.prototype.load=function(){this.ub.Vc(this.b,this.b.url)};
xg.prototype.Tb=function(a){if(a){var b=this.ub.nd;if(b)if(a=(new qg(b,this.pb)).parse(a)){if(a.bh)for(b=0;b<a.kd.length;b++){var c=new wg(this.b,this.Wd,a.kd[b]);this.$b.push(c)}else{var d;this.pb?(c="avc1.4d401e,mp4a.40.2",d="video/mp2t"):(c="mp4a.40.2",d="audio/mp4");c=new wg(this.b,this.Wd,{name:null,url:b,ga:0,mimeType:d,codecs:c,Pf:!0,language:null});this.$b.push(c)}for(b=0;b<a.Uf.length;b++)c=new wg(this.b,this.Wd,a.Uf[b]),this.cb.push(c);this.Nd.onManifestReady()}else L(this.b,411)}else L(this.b,
311,nf(this.ub))};var yg=function(a,b,c){sf.call(this);this.Qa=null;this.Ae=b?new jg(b):null;this.Xf=Infinity;this.mj=c;for(this.ba(a);!this.Ce();)this.parse()};v(yg,sf);yg.prototype.Sg=function(){return this.Xf};yg.prototype.ig=function(a){yg.C.ig.call(this,a);null===this.Qa&&(this.Qa=this.Mc);a=zg(this.Qa,this.Mc);a<this.Xf&&(this.Xf=a)};
yg.prototype.Jh=function(a,b,c){if(this.Ae){a=new Wd(new Uint8Array(this.m.buffer,this.m.byteOffset+a,b+1-a));if(c){if(445!==I(a))return;J(a,2);J(a,2);c=Xd(a);J(a,c)}null===this.Qa&&(this.Qa=this.Mc);this.Ae.append(this.mj+(zg(this.Qa,this.zc)-this.Qa),a.buffer.subarray(a.offset),0)}};
var zg=function(a,b){var c=Math.floor(a/95443.7176888889),d=95443.7176888889*(c-1)+b,e=95443.7176888889*(c+0)+b,c=95443.7176888889*(c+1)+b,f=Math.abs(d-a),g=Math.abs(e-a),h=Math.abs(c-a),l=f;g<f&&(d=e,l=g);h<l&&(d=c);return d};var Ag=function(a,b,c,d){hg.call(this,a,b);cast.__platform__.crypto.unwrapKey("raw",c,d,{name:"RSA-OAEP",hash:{name:"SHA-256"}},{name:"AES-CBC",length:128},!1,["decrypt"]).then(this.cg,this.ag)};v(Ag,hg);var Bg=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],Cg=function(a){Kb(y("cast.player.mp4.base"),a)},Dg=function(a,b,c){if(0>a||32<=a)return Cg("Invalid object type id: "+a),null;var d=Bg.indexOf(b);return 0>d?(Cg("Invalid sample rate: "+b),null):0>c||16<c?(Cg("Invalid channels: "+c),null):new Uint8Array([a<<3|d>>1,d<<7|c<<3])};var S=function(a,b){this.ii=a;this.od=b?b:null;this.c=null};S.prototype.l=function(a){var b=df(a).length;this.c=a;this.zg();this.w();a=df(a).length-b;this.c.buffer.set([a>>24,a>>16,a>>8,a],b)};S.prototype.zg=function(){N(this.c,0);N(this.c,this.ii);this.od&&M(this.c,this.od.Ic)};S.prototype.w=function(){throw Error("writeBody() should be  overriden.");};var T=function(a,b,c){S.call(this,a);this.xa=b;this.Mb=c};v(T,S);T.prototype.zg=function(){T.C.zg.call(this);N(this.c,this.xa<<24|this.Mb&16777215)};
var Eg=function(a){T.call(this,1935763823,0,0);this.D=a};v(Eg,T);Eg.prototype.w=function(){N(this.c,1);N(this.c,this.D)};var Fg=function(a){T.call(this,1952867444,1,0);this.rd=a};v(Fg,T);Fg.prototype.w=function(){var a=this.c,b=this.rd;N(a,b/4294967296);N(a,b%4294967296)};var Gg=function(a,b){T.call(this,1935763834,0,0);this.Qg=a;this.Ph=b};v(Gg,T);Gg.prototype.w=function(){M(this.c,[this.Qg]);N(this.c,this.Ph.length);0===this.Qg&&M(this.c,this.Ph)};
var Hg=function(a,b){T.call(this,1702061171,0,0);this.Oi=a;this.td=b};v(Hg,T);Hg.prototype.w=function(){M(this.c,[3,25,0,1,0,4,17,this.Oi,21,0,0,0,0,0,0,0,0,0,0,0,5,2,this.td[0],this.td[1]])};var Ig=function(a,b){S.call(this,1635148611);this.Wh=a;this.Lh=b};v(Ig,S);Ig.prototype.w=function(){M(this.c,[1,77,64,30,255,225]);var a=this.Wh.length;M(this.c,[a>>8,a]);M(this.c,this.Wh);M(this.c,[1]);a=this.Lh.length;M(this.c,[a>>8,a]);M(this.c,this.Lh)};var Jg=function(){T.call(this,1937011571,0,0)};
v(Jg,T);Jg.prototype.w=function(){N(this.c,0)};var Kg=function(a,b){T.call(this,1952804451,0,1);this.ti=a;this.ui=b};v(Kg,T);Kg.prototype.w=function(){N(this.c,256|this.ti);M(this.c,this.ui.Ic)};var Lg=function(a,b){T.call(this,1935894637,0,0);this.gj=a;this.hj=b};v(Lg,T);Lg.prototype.w=function(){N(this.c,this.gj);N(this.c,this.hj)};var Mg=function(a){S.call(this,1718775137);this.pi=a};v(Mg,S);Mg.prototype.w=function(){N(this.c,this.pi)};var Ng=function(a){T.call(this,1751411826,0,0);this.Fi=a};
v(Ng,T);Ng.prototype.w=function(){N(this.c,0);N(this.c,this.Fi);M(this.c,[0,0,0,0,0,0,0,0,0,0,0,0])};var Og=function(a){T.call(this,1835296868,0,0);this.gb=a};v(Og,T);Og.prototype.w=function(){N(this.c,0);N(this.c,0);N(this.c,this.gb);N(this.c,0);M(this.c,[85,196,0,0])};var Pg=function(a,b){T.call(this,1953196132,0,3);this.rj=a;this.Gi=b};v(Pg,T);
Pg.prototype.w=function(){N(this.c,0);N(this.c,0);M(this.c,[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0]);N(this.c,this.rj<<16);N(this.c,this.Gi<<16)};var Qg=function(a){T.call(this,1953654136,0,0);this.Hi=a};v(Qg,T);Qg.prototype.w=function(){var a=65536;this.Hi&&(a&=-65537);M(this.c,[0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0]);N(this.c,a)};var Rg=function(a,b){T.call(this,1886614376,0,0);this.sg=a;this.$a=b};v(Rg,T);
Rg.prototype.w=function(){M(this.c,this.sg.Ic);N(this.c,this.$a.length);M(this.c,this.$a)};var Sg=function(a){T.call(this,1836476516,0,0);this.gb=a};v(Sg,T);Sg.prototype.w=function(){N(this.c,0);N(this.c,0);N(this.c,this.gb);M(this.c,[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2])};var Tg=function(a){T.call(this,1952868452,0,8);this.vi=a};v(Tg,T);
Tg.prototype.w=function(){N(this.c,1);N(this.c,this.vi)};var Ug=function(a){T.call(this,1953658222,0,513);this.ng=a};v(Ug,T);Ug.prototype.w=function(){N(this.c,this.ng.length);N(this.c,0);for(var a=0;a<this.ng.length;a++)N(this.c,this.ng[a].length)};var Vg=function(a){T.call(this,1835427940,0,0);this.Xb=a};v(Vg,T);Vg.prototype.w=function(){N(this.c,this.Xb)};var Wg=function(a){S.call(this,1835295092);this.Mg=a};v(Wg,S);Wg.prototype.w=function(){for(var a=0;a<this.Mg.length;a++)M(this.c,this.Mg[a])};
var Yg=function(a){var b=new Uint8Array(2+a.length);b[1]=1;ie(a,b,2);Rg.call(this,Xg,b)};v(Yg,Rg);var Xg=new fe([43,248,102,128,198,229,78,36,190,35,15,129,90,96,110,178]);var Zg=function(a){Wd.call(this,a)};v(Zg,Wd);var $g=function(a){cf.call(this,a)};v($g,cf);var ah=function(a,b,c){(new DataView(a.buffer,a.byteOffset,a.byteLength)).setUint32(b,c)};var bh=[71,64,1,16,0,1,176,45,255,255,193,0,0,9,34,99,101,224,16,99,98,99,115,0,1,0,0,1,0,16,1,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,143,19,198,145,164,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,71,64,17,16,127,255,255,255,0,0,0,32,112,115,115,104,0,0,0,0,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,71,64,16,48,147,0,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,79,16,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,1,112,213,251,214,184,46,217,62,78,249,138,228,9,49,238,51,183];var ch=function(a){this.J=new Zg(a);this.Yb=0;this.od=this.Oa=null;this.Oe=a;this.Za=0;this.Yb=I(this.J);this.Za=4;this.Oa=I(this.J);this.Za+=4;1===this.Yb&&(this.Yb=Ce(this.J),this.Za+=8);1970628964===this.Oa&&(this.od=new fe(De(this.J,16)),this.Za+=16)},dh=function(a){switch(a.Oa){case 1836019574:case 1836019558:case 1836475768:case 1953653099:case 1953653094:case 1701082227:case 1835297121:case 1835626086:case 1684631142:case 1937007212:return!0;default:return!1}};ch.prototype.getName=function(){return this.Oa};
var eh=function(a){return a.Oe.subarray(0,a.Yb)},U=function(a){return eh(a).subarray(a.Za)};ch.prototype.l=function(a){M(a,this.Oe.subarray(0,this.Yb))};var V=function(a){ch.call(this,a);this.Mb=this.xa=0;a=I(this.J);this.Za+=4;this.xa=a>>>24;this.Mb=a&16777215};v(V,ch);var fh=function(a){V.call(this,a)};v(fh,V);var gh=new fe([212,128,126,242,202,57,70,149,142,84,38,203,158,70,167,159]);
fh.prototype.If=function(a){for(var b=this.xa,c=Xd(this.J),d=Array(c),e=0;e<c;e++){var f,g,h;if(1===b){f=I(this.J);var l=I(this.J);g=I(this.J);var n=I(this.J);h=f;var p=l,q=new Ae(Math.floor(4294967296*h/1E4).toString()+"0000");q.add(h%1E4*7296%1E4);q.add(p);h=q;f=4294967296/a*f+l/a;g=4294967296/a*g+n/a}else n=I(this.J),g=I(this.J),h=new Ae(n.toString()),f=n/a,g/=a;d[e]={time:f,duration:g,wb:h,offset:0,size:0,url:null}}return d};var hh=function(a){V.call(this,a)};v(hh,V);
hh.prototype.If=function(a){var b=this.xa;J(this.J,4);var c=I(this.J),d=0==b?I(this.J):Ce(this.J),e=0==b?I(this.J):Ce(this.J),f=a+eh(this).byteOffset,g=this.Yb;J(this.J,2);a=Yd(this.J);for(var b=Array(a),e=f+g+e,h=g=f=0;h<a;h++)f=I(this.J)&2147483647,g=I(this.J),J(this.J,4),b[h]={time:d/c,duration:g/c,wb:null,offset:e,size:f,url:null},d+=g,e+=f;return b};var ih=function(a){V.call(this,a);this.Ve=new Uint8Array([]);this.lg=null;this.Sf=!1;this.Rd()};v(ih,V);
var jh=new fe([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);ih.prototype.Rd=function(){var a=new Zg(U(this)),b=this.Mb;b&1&&J(a,20);var c=I(a);this.lg=a.buffer.subarray(a.offset);this.Sf=b&2?!0:!1;this.Ve=new Uint8Array(new ArrayBuffer(c));for(b=0;b<c;b++)if(this.Sf){J(a,8);var d=6*Yd(a);this.Ve[b]=10+d;J(a,d)}else this.Ve[b]=8,J(a,8)};var kh=function(a){V.call(this,a);this.jd=0;this.Ac=[];this.hd=[];this.Rd()};v(kh,V);
kh.prototype.Rd=function(){var a=new Zg(U(this));this.jd=I(a);var b=this.Mb;b&1&&J(a,4);b&4&&J(a,4);for(var c=!!(b&256),d=!!(b&512),e=!!(b&1024),b=!!(b&2048),f=0;f<this.jd;f++)c&&J(a,4),d&&this.Ac.push(I(a)),e&&J(a,4),b&&this.hd.push(I(a))};kh.prototype.We=function(a){ah(U(this),4,a)};var mh=function(a){lh.Fg(this,"constructor",a);this.je=9E4;this.Rd()};v(mh,V);mh.prototype.Rd=function(){var a=new Zg(U(this));J(a,4);J(a,4);this.je=I(a)};var lh=function(a){V.call(this,a)};v(lh,V);
var nh=function(a){V.call(this,a);this.sg=new fe(De(this.J,16));a=I(this.J);this.ri=De(this.J,a)};v(nh,V);nh.prototype.getData=function(){return this.ri};var oh=function(a){V.call(this,a)};v(oh,V);var ph=function(a){ch.call(this,a)};v(ph,ch);
ph.prototype.We=function(a,b){var c=W(U(this),1953653094,void 0,void 0);if(c){var d=W(U(c),1953658222,void 0,void 0);d&&d.We(a-this.Oe.byteOffset);if(b&&(c=W(U(c),1935763823,void 0,void 0))){var d=b-this.Oe.byteOffset,e=0;c.Mb&1&&(e+=8);var e=e+4,f=U(c);0!==c.xa&&(ah(f,e,Math.floor(d/4294967296)),e+=4);ah(f,e,Math.floor(d%4294967296))}}};
var qh=function(a,b){var c=W(a,1836019558),d=U(W(a,1835295092)).byteOffset;b?c.We(d+b,d):c.We(d)},rh=function(a){switch(a.getName()){case 1836019558:return new ph(eh(a));case 1835296868:return new mh(eh(a));case 1953658222:return new kh(eh(a));case 1935763823:return new oh(eh(a));case 1936286840:return new hh(eh(a));case 1952868452:return new lh(eh(a));case 1970628964:var b=a.od;return jh.S(b)?new ih(eh(a)):gh.S(b)?new fh(eh(a)):a;case 1886614376:return new nh(eh(a));case 1702061171:case 1751411826:case 1835296868:case 1835427940:case 1836476516:case 1935763823:case 1935763834:case 1935894637:case 1937011571:case 1952804451:case 1952867444:case 1952868452:case 1953196132:case 1953654136:case 1953658222:return new V(eh(a));
default:return a}},W=function(a,b,c,d){for(var e=0;e<a.length;){var f=new ch(a.subarray(e)),e=e+f.Yb;if(f.getName()===b&&(1970628964!==b||c&&c.S(f.od)))return rh(f);if(d&&dh(f)&&(f=W(U(f),b,c,d)))return f}return null},sh=function(a,b){for(var c=0,d=[];c<a.length;){var e=new ch(a.subarray(c)),c=c+e.Yb;d.push(rh(e));b&&dh(e)&&(d=d.concat(sh(U(e),!0)))}return d};var th=function(a){this.Db=new Vd(a);this.Ua=null;this.xf=0;this.je=9E4;this.jd=0;this.Ac=[];this.hd=[]};k=th.prototype;k.ba=function(a){if(a){var b=W(a,1835296868,void 0,!0);b&&(this.je=b.je);if(b=W(a,1953658222,void 0,!0))if(this.Ac=b.Ac,0!=this.Ac.length&&(this.hd=b.hd,this.jd=b.jd,a=W(a,1835295092)))this.Ua=new Wd(U(a))}else this.xf=0,this.Ua=null};k.Qh=function(a){this.xf=a};k.bb=function(){return null===this.Ua};
k.Ce=function(){var a;(a=null===this.Ua)||(a=this.Ua,a=!(a.offset<a.buffer.length));return a};k.parse=function(){if(this.Ua)for(var a=this.xf/this.jd,b=0,c=0,d=this.Ac[0];!this.Ce();){var e=I(this.Ua);6===(Xd(this.Ua)&31)?(this.Db.append(De(this.Ua,e-1)),Zd(this.Db,0==this.hd.length?b:b+this.hd[c]/this.je)):J(this.Ua,e-1);d-=e+4;0==d&&(b+=a,c++,d=this.Ac[c])}};var uh=function(a,b){Uf.call(this,a,b,"webvtt");this.a=y("cast.player.cea608.InbandCaptionsManager");this.T=new Fe(this);this.T.Le=1;this.za=null;this.aa=0;this.Nc=null;this.Kc=[];this.Zc=this.dg.bind(this);this.wa=null;this.$c=new Nc};v(uh,Uf);uh.prototype.G=function(){this.reset();uh.C.G.call(this)};
uh.prototype.dg=function(){if(this.za.bb()){var a=Oc(this.$c);this.aa!==a.P&&(this.T.clear(),this.Nc=null);this.aa=a.P;this.T.aa=a.ni;this.za.ba(a.data);this.za.Qh(a.duration)}this.za.parse();if(this.za.Ce()){this.T.decode();if(0<this.Kc.length){for(Wf(this);0<this.Kc.length;)a=this.Kc.pop(),a=new VTTCue(a.start,a.end,a.text),a.position=20,a.align="start",this.addCue(a);this.Kc.length=0}this.za.ba(null)}this.$c.bb()&&this.za.bb()?this.wa=null:this.wa=setTimeout(this.Zc,20)};
var Le=function(a,b,c,d){null!==a.Nc&&b<a.Nc&&(b=a.Nc);.1>c-b&&(c=b+.1);a.Nc=c;a.Kc.push({start:b,end:c,text:d})};uh.prototype.Pe=function(a,b,c,d,e){if(ce(a)){if(!this.za)switch(a){case "video/mp2t":this.za=new Ud(this);break;case "video/mp4":this.za=new th(this);break;default:return}1<this.$c.Oc()?A(this.a,"Dropped segment"):(this.$c.enqueue({data:b,duration:e,P:c,ni:"video/mp4"==a?d:c}),B(this.a,"Pending "+this.$c.Oc()),null===this.wa&&(this.wa=setTimeout(this.Zc,20)))}};
uh.prototype.reset=function(){uh.C.reset.call(this);this.aa=0;this.Nc=null;this.Kc.length=0;this.za&&this.za.ba(null);this.T.clear();this.$c.clear();null!==this.wa&&(clearTimeout(this.wa),this.wa=null)};var vh=function(a,b,c,d){z.call(this);this.b=a;this.v=b;this.Ki=d;this.$a=c;this.i=this.fh=null;this.rb="none";this.ug=this.tg=this.Rb=null;this.rh=this.Pi.bind(this);this.f=new D;Bc(this.f);C(this.f,"success",this.Pd,!1,this);C(this.f,"error",this.wc,!1,this)};v(vh,z);k=vh.prototype;k.a=y("cast.player.core.MediaKeySession");k.G=function(){this.i&&(this.Rb&&jc(this.Rb,"message",this.th,!1,this),this.i=null);this.Rb&&(this.Rb.close(),this.Rb=null);this.f.M();vh.C.G.call(this)};
k.createSession=function(a){B(this.a,"create session");this.ug=t();var b=this.b.licenseCustomData;if(b){var c=new $g(this.$a.length+b.length+34);M(c,this.$a);(new Yg(b)).l(c);b=df(c)}else b=this.$a;this.i=this.b.mediaElement;this.rb=a;this.Rb=a=this.i.mediaKeys.createSession();C(this.Rb,"message",this.th,!1,this);a.generateRequest("cenc",b.buffer).catch(this.rh)};k.Pd=function(a){B(this.a,"xhr success");var b=this.tg;null!==b&&K("Cast.MPL.LicenseReq.ServerLatency",t()-b);this.tg=null;this.Ug(Mc(a.target))};
k.Ug=function(a){a?(a=new Uint8Array(a),this.b.processLicense&&(a=this.b.processLicense(a)),this.Rb.update(a.buffer).catch(this.rh),a=this.Ki,B(a.a,"key session ended: "+a.Cc),5<a.qa.length?a.qa.shift().M():a.Cc++,a.Cc<a.qa.length&&a.qa[a.Cc].createSession(a.rb)):L(this.b,201,void 0)};k.wc=function(){B(this.a,"xhr error");var a=new Od(String(this.f.Md),this.f.tb,Kc(this.f),this.f.getAllResponseHeaders(),Mc(this.f));L(this.b,201,a)};
k.th=function(a){B(this.a,"message");this.fh=new Uint8Array(a.ic.message);this.b.prepareLicenseRequest&&!this.b.prepareLicenseRequest()||this.Zb()};k.Pi=function(){B(this.a,"keyerror");L(this.b,202)};
k.Zb=function(){var a=new Nd;a.timeoutInterval=18E4;a.protectionSystem=this.rb;a.content=this.fh;a.setResponse=this.Ug.bind(this);this.v.updateLicenseRequestInfo(a);this.b.licenseUrl&&(a.url=this.b.licenseUrl);if(!a.url&&this.$a&&"playready"===this.rb){var b=new nh(this.$a);if(b=pf(b.getData()))a.url=b.url}if(this.b.updateLicenseRequestInfo&&(this.b.updateLicenseRequestInfo(a),a.skipRequest))return;this.f.ne=a.withCredentials;this.f.Gb=Math.max(0,a.timeoutInterval);this.f.send(a.url,"POST",a.content,
a.headers);a=this.ug;null!==a&&K("Cast.MPL.LicenseReq.GenLatency",t()-a);this.ug=null;this.tg=t()};var xh=function(a,b,c,d){z.call(this);this.b=a;this.v=b;this.qa=[];this.Cc=0;this.rb=null;C(this.b.mediaElement,"encrypted",this.qh,!1,this);d&&0<d.length&&wh(this,{gh:d,Tf:0})};v(xh,z);xh.prototype.a=y("cast.player.core.MediaKeysManager");xh.prototype.G=function(){jc(this.b.mediaElement,"encrypted",this.qh,!1,this);for(var a=0;a<this.qa.length;a++)this.qa[a].M();this.qa.length=0;xh.C.G.call(this)};
var wh=function(a,b){yh(a,b).catch(function(a){b.Tf++;b.Tf<b.gh.length?wh(this,b):(Kb(this.a,a.toString()),A(this.a,"unsupported protection system"),L(this.b,202))}.bind(a))},yh=function(a,b){var c=b.gh[b.Tf];return navigator.requestMediaKeySystemAccess($d[c],[{}]).then(function(a){return a.createMediaKeys()}).then(function(a){return this.b.mediaElement.setMediaKeys(a)}.bind(a)).then(function(){this.rb=c;se(this.rb,this.v.we());0<this.qa.length&&this.qa[0].createSession(c);return Promise.resolve()}.bind(a))};
xh.prototype.qh=function(a){a=a.ic;B(this.a,"onencrypted: "+this.Cc);if(a=a.initData){a=new Uint8Array(a);var b;a:{for(b=0;b<this.qa.length;b++){var c;b:if(c=this.qa[b],a.length!==c.$a.length)c=!1;else{for(var d=a.length,e=0;e<d;e++)if(a[e]!==c.$a[e]){c=!1;break b}c=!0}if(c){b=!0;break a}}b=!1}b||(a=new vh(this.b,this.v,a,this),this.rb&&this.Cc===this.qa.length&&a.createSession(this.rb),this.qa.push(a))}else B(this.a,"invalid init data")};xh.prototype.Zb=function(){this.qa[this.Cc].Zb()};var zh=function(a,b,c){z.call(this);this.b=a;this.v=b;this.Ia=c;this.V=[];this.tc=null;this.ia=new MediaSource;this.ah=this.dh=this.De=!1;this.Uc=this.Xc=null;C(this.ia,"sourceopen",this.Ch,!1,this)};v(zh,z);zh.prototype.a=y("cast.player.core.MediaSourceManager");zh.prototype.G=function(){this.v.cc();Ah(this);this.Xc=null;this.tc&&(this.tc.M(),this.tc=null);jc(this.ia,"sourceopen",this.Ch,!1,this);zh.C.G.call(this)};
zh.prototype.Ch=function(){B(this.a,"sourceopen");if(this.ah){this.update();Bh(this);for(var a=0;a<this.V.length;a++)this.V[a]&&this.V[a].createBuffer()}};var Ch=function(a){!a.tc&&a.Xc&&a.Uc&&a.dh&&(a.tc=new xh(a.b,a.v,0,a.Uc))};zh.prototype.onManifestReady=function(){this.ah=!0;this.update()};zh.prototype.endOfStream=function(){"open"===this.ia.readyState&&this.ia.endOfStream()};zh.prototype.load=function(){Ah(this);this.open()};
zh.prototype.open=function(){this.De||(this.v.load(this),this.De=!0);this.b.mediaElement.src?(ic(this.b.mediaElement,"emptied",function(){Dh(this)},!1,this),this.b.mediaElement.src=""):Dh(this)};var Dh=function(a){B(a.a,"open");a.tc||a.b.mediaElement.setMediaKeys(null).catch(function(a){Kb(this.a,a.toString())});a.b.mediaElement.src=window.URL.createObjectURL(a.ia);a.dh=!0;Ch(a)};zh.prototype.jg=function(){this.De?A(this.a,"protocol already loaded"):(this.v.load(this),this.De=!0)};
var Ah=function(a){for(var b=0;b<a.V.length;b++)a.V[b]&&(a.V[b].M(),a.V[b]=null);a.V.length=0},Bh=function(a){if("open"===a.ia.readyState){var b=a.v.Rg();0<b&&!a.ia.duration&&(a.ia.duration=parseFloat((b-1E-4).toFixed(4)))}};k=zh.prototype;k.reset=function(){for(var a=0;a<this.V.length;a++)this.V[a]&&this.V[a].reset()};
k.update=function(){for(var a=this.v.getStreamCount(),b=null,c=null,d=0;d<a;d++)if(this.v.isStreamEnabled(d)){var e=this.v.getStreamInfo(d).mimeType;be(e)?b?A(this.a,"more than one audio stream enabled"):b=e:ce(e)&&(c?A(this.a,"more than one video stream enabled"):c=e);this.V[d]||(this.V[d]=new Zf(this.Ia,this.b,this.v,d,this.ia),this.v.enableStream(d,!0),this.V[d].yg())}else this.V[d]&&(this.V[d].M(),this.V[d]=null);e=c?c:b;e?this.Xc||(this.Xc=e,Ch(this)):A(this.a,"no enabled audio or video stream")};
k.Rf=function(a){return this.V[a].Rf()};k.kg=function(a){this.V[a].kg()};k.Dd=function(a){return this.V[a].Dd()};k.Ya=function(a,b){return this.V[a].Ya(b)};k.Zb=function(){this.tc.Zb()};k.getStreamCount=function(){return this.V.length};var X=function(a){B(this.a,"Version: 1.0.0.29");te()&&cast.__platform__.metrics.setMplVersion("1.0.0.29");this.b=a;this.v=null;this.ob=0;this.Gc=null;this.Dg=this.Ea=this.Qf=this.Ma=!1;this.Ie=!0;this.He=!1;this.Kb=this.Z=this.i=null;this.Bd=!1;this.he=null;this.Zc=this.dg.bind(this);this.bf=this.af=this.ge=null;this.Ee=!1};u("cast.player.api.Player",X);X.prototype.a=y("cast.player.api.Player");var Fh=function(a,b){Eh(a);a.he=setTimeout(a.Zc,b||0)};k=X.prototype;k.vc=function(a){Fh(this,a)};
k.Pe=function(a,b,c,d,e){this.Qf&&this.Kb.Pe(a,b,c,d,e);Fh(this)};k.Dh=function(a){this.Ma&&(a=this.v.getSegmentInterval(a).time,Infinity===this.ob||this.ob<a)&&(this.ob=a)};k.ph=function(){Bh(this.Z)};k.Pc=function(){return this.Ma?this.ob:this.i.currentTime};var Eh=function(a){null!==a.he&&(clearTimeout(a.he),a.he=null)};k=X.prototype;k.Bh=function(){B(this.a,"seeking");this.Bd?this.Bd=!1:(this.He=this.Ma=!1,this.ge=null,this.Kb&&this.Kb.reset(),this.Z.reset())};
k.Ah=function(){B(this.a,"seeked");this.Gc=t()};k.Ne=function(){Kb(this.a,"error");var a=100;if(this.i.error)switch(this.i.error.code){case MediaError.MEDIA_ERR_ABORTED:a=101;break;case MediaError.MEDIA_ERR_NETWORK:a=103;break;case MediaError.MEDIA_ERR_DECODE:a=102;break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:a=104}L(this.b,a)};k.vh=function(){null!==this.af&&(K("Cast.MPL.AutoPauseTime",t()-this.af),this.af=null)};k.wh=function(){this.ge=t()};
k.uh=function(){var a=t();this.Ea&&!this.Ma&&null!==this.ge&&(this.af=a,K("Cast.MPL.PlayTimeBeforeAutoPause",a-this.ge));this.ge=null};
k.ef=function(){if(this.Ma&&this.i&&!isNaN(this.i.duration)&&0!==this.i.buffered.length&&(this.Ma=!1,this.Gc=t(),K("Cast.MPL.MediaDuration",this.i.duration),0!==this.ob&&this.ob!==this.i.currentTime)){var a=this.ob;this.Bd=!0;this.i.currentTime=a}this.Ie=!1;for(var b=0,c=0,d=!0,a=this.Pc(),e=this.Z.getStreamCount(),f=0;f<e;f++)if(this.v.isStreamEnabled(f)&&(c++,this.Z.Dd(f))){b++;var g=this.Z.Ya(f,a);if(this.Ea&&d){var h=this.v.getSegmentInterval(f).duration*this.b.autoResumeNumberOfSegments;if(0===
h||h>this.b.autoResumeDuration)h=this.b.autoResumeDuration;g<h&&(d=!1)}h=f;20<=g||(g<this.b.autoPauseDuration&&(g=this.v.getStreamInfo(h),de(g.role,g.mimeType)||(this.Ie=!0)),this.Z.Rf(h)&&this.Z.kg(h))}if(this.i&&0!==c){this.Ie?!this.i.paused&&this.i.duration-a>this.b.autoPauseDuration&&(B(this.a,"auto pause "+a),this.Ea=!0,this.i.pause(),this.b.onAutoPause&&this.b.onAutoPause(this.Ea)):!this.Ma&&this.Ea&&d&&(this.Ea=!1,this.i.paused&&(B(this.a,"auto resume "+a),this.i.play(),this.b.onAutoPause&&
this.b.onAutoPause(this.Ea)));if(0===b){if(!this.He&&(B(this.a,"endOfStream "+a),this.Z.endOfStream(),this.b.onMediaDownloadEnded))this.b.onMediaDownloadEnded();this.He=!0}if(!(this.Ma||this.Ea||this.i.paused)&&(B(this.a,"time="+a),null!==this.Gc&&(b=2500<t()-this.Gc,this.b.di||b))){a:{c=this.i.currentTime;d=this.i.buffered;for(e=d.length-1;0<=e;e--){f=d.start(e);if(c>=f)break;if(0===e||c>d.end(e-1)-.15){A(this.a,"stall jump to "+f);ue("Cast.MPL.PlaybackStallGap");c=f;this.Bd=!0;this.i.currentTime=
c;c=!0;break a}}c=!1}c?this.Gc=null:b&&(this.Gc=null,A(this.a,"playback stalled in buffered region"),ue("Cast.MPL.PlaybackStall"),this.Bd=!0,this.i.currentTime=a+.5)}}Fh(this,400)};k.Eh=function(){this.Gc=t();if(null!==this.bf){var a=t()-this.bf;K(this.Ee?"Cast.MPL.PreloadAutoplayStartupLatency":"Cast.MPL.AutoplayStartupLatency",a);this.bf=null}};k.dg=function(){this.he=null;this.ef()};var Gh=function(a,b,c){a.v=b;a.Ma=!0;a.ob=c||0;a.Z=new zh(a.b,a.v,a)};
X.prototype.load=function(a,b){B(this.a,"load");ue("Cast.MPL.Load");this.i=this.b.mediaElement;C(this.i,"error",this.Ne,!1,this);C(this.i,"seeking",this.Bh,!1,this);C(this.i,"seeked",this.Ah,!1,this);C(this.i,"play",this.vh,!1,this);C(this.i,"pause",this.uh,!1,this);C(this.i,"playing",this.wh,!1,this);C(this.i,"timeupdate",this.Eh,!1,this);this.i.autoplay&&(this.bf=t(),this.i.autoplay=!1,this.Dg=!0,this.Kh());this.Z?this.Z.open():a?(this.Ee=!1,Gh(this,a,b),this.Z.load()):Kb(this.a,"no protocol")};
X.prototype.load=X.prototype.load;X.prototype.jg=function(a,b){B(this.a,"preload");ue("Cast.MPL.Preload");Gh(this,a,b);this.Z.jg();this.Ee=!0};X.prototype.preload=X.prototype.jg;
X.prototype.cc=function(){B(this.a,"unload");Hh(this);this.i&&(this.Dg&&(this.i.autoplay=!0),this.Z.M(),this.Z=null,Eh(this),this.He=this.Ea=!1,jc(this.i,"error",this.Ne,!1,this),jc(this.i,"seeking",this.Bh,!1,this),jc(this.i,"seeked",this.Ah,!1,this),jc(this.i,"play",this.vh,!1,this),jc(this.i,"pause",this.uh,!1,this),jc(this.i,"playing",this.wh,!1,this),jc(this.i,"timeupdate",this.Eh,!1,this),this.i=null,this.Ee=!1)};X.prototype.unload=X.prototype.cc;
X.prototype.reload=function(){this.Ma||(this.ob=this.i.currentTime);this.Ma=!0;this.i.paused||(this.Ea=!0);Eh(this);this.Z.load()};X.prototype.reload=X.prototype.reload;X.prototype.Kh=function(){this.Ea=!0};X.prototype.playWhenHaveEnoughData=X.prototype.Kh;X.State={UNDERFLOW:1,SEEKABLE:2};
X.prototype.Ci=function(a){var b;a:{b=-Infinity;for(var c=Infinity,d=this.Z.getStreamCount(),e=0;e<d;e++)if(this.v.isStreamEnabled(e)){var f=this.v.La(e);if(!f){b=null;break a}f.start>b&&(b=f.start);f.end<c&&(c=f.end)}b>c&&(b=c);b={start:b,end:c}}void 0===a&&(a=1);c={};a&1&&(c.underflow=this.Ie||this.Ea);a&2&&(c.seekable=b?{start:b.start,end:b.end}:null);return c};X.prototype.getState=X.prototype.Ci;X.prototype.Ya=function(a){return this.Z.Ya(a,this.Pc())};X.prototype.getBufferDuration=X.prototype.Ya;
X.prototype.Bi=function(){return 20};X.prototype.getMaxBufferDuration=X.prototype.Bi;X.prototype.Zb=function(){this.Z.Zb()};X.prototype.startLicenseRequest=X.prototype.Zb;var Hh=function(a){a.Kb&&(a.Qf=!1,a.Kb.M(),a.Kb=null)};X.prototype.xi=function(a,b,c){b?a?"cea608"===b?(this.Qf=!0,this.Kb=new uh(this,this.b.mediaElement)):c&&(this.Kb=new Xf(this,this.b,b,c)):Hh(this):this.Z.update()};X.prototype.enableCaptions=X.prototype.xi;X.prototype.Di=function(){return this.v};
X.prototype.getStreamingProtocol=X.prototype.Di;X.prototype.Ai=function(){return this.b};X.prototype.getHost=X.prototype.Ai;var Jh=function(a){this.duration=new gf("mediaPresentationDuration");this.type=new P("type");this.qj=new gf("minimumUpdatePeriod");for(this.url=null;a;){if("MPD"===a.nodeName){lf(a.attributes,this);break}a=a.nextElementSibling}this.Vd=[];if(a){for(var b=a.firstElementChild;null!==b;b=b.nextElementSibling)if("BaseURL"===b.nodeName){this.url=b.textContent;break}for(b=a.firstElementChild;null!==b;b=b.nextElementSibling)"Period"===b.nodeName&&this.Vd.push(new Ih(b,this))}},Kh=function(a){this.name=a;
this.end=this.start=null};v(Kh,ef);Kh.prototype.parse=function(a){a=a.split("-");this.start=parseInt(a[0],10);this.end=parseInt(a[1],10)};
var Lh=function(a){this.media=new P("media");lf(a.attributes,this)},Mh=function(a){this.Vh=new P("sourceURL");this.ma=new Kh("range");lf(a.attributes,this)},Nh=function(a){this.duration=new O("duration");this.ie=new O("timescale");this.P=new P("presentationTimeOffset");this.va=new O("startNumber");this.mc=new Kh("indexRange");lf(a.attributes,this);this.Bc=this.Cd=null;for(a=a.firstElementChild;null!==a;a=a.nextElementSibling)switch(a.nodeName){case "Initialization":this.Cd=new Mh(a);break;case "SegmentTimeline":this.Bc=
[];for(var b=a.firstElementChild;null!==b;b=b.nextElementSibling){var c=0,d=b.attributes.getNamedItem("r");d&&(c=parseInt(d.value,10));var d=(d=b.attributes.getNamedItem("t"))?new Ae(d.value):null,e=b.attributes.getNamedItem("d");if(e)for(e=parseInt(e.value,10),this.Bc.push({time:d,duration:e}),d=0;d<c;d++)this.Bc.push({time:null,duration:e})}}};
Nh.prototype.Ga=function(a){null===a.duration.value&&(a.duration=this.duration);null===a.ie.value&&(a.ie=this.ie);null===a.P.value&&(a.P=this.P);null===a.va.value&&(a.va=this.va);null===a.mc.start&&(a.mc=this.mc);null===a.Cd&&(a.Cd=this.Cd);null===a.Bc&&(a.Bc=this.Bc)};var Oh=function(a){Nh.call(this,a);this.g=[];for(a=a.firstElementChild;null!==a;a=a.nextElementSibling)switch(a.nodeName){case "SegmentURL":this.g.push(new Lh(a))}};v(Oh,Nh);
Oh.prototype.Ga=function(a){Oh.C.Ga.call(this,a);0===a.g.length&&(a.g=this.g)};var Ph=function(a){this.media=new P("media");this.ba=new P("initialization");Nh.call(this,a)};v(Ph,Nh);Ph.prototype.Ga=function(a){Ph.C.Ga.call(this,a);null===a.media.value&&(a.media=this.media);null===a.ba.value&&(a.ba=this.ba)};
var Qh=function(a){this.fj=new hf("schemeIdUri");lf(a.attributes,this);this.yb=null;this.mb=!1;var b=this.fj.value;if(b)if("9A04F079-9840-4286-AB92-E65BE0885F95"===b){for(a=a.firstElementChild;null!==a;a=a.nextElementSibling)switch(a.nodeName){case "mspr:pro":this.yb=qf(a.childNodes[0].nodeValue);return;case "cenc:pssh":a=ie(window.atob(a.childNodes[0].nodeValue));a=new nh(a);this.yb=pf(a.getData());return}this.yb={systemId:ge,zd:null,Kd:null,url:null,Je:0}}else"EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED"===
b?this.yb={systemId:he,zd:null,Kd:null,url:null,Je:0}:"URN:MPEG:DASH:MP4PROTECTION:2011"===b&&(this.mb=!0)},Rh=function(a){this.cd=[];this.mb=!1;this.Vb=this.F=this.Wb=this.url=null;for(a=a.firstElementChild;null!==a;a=a.nextElementSibling)switch(a.nodeName){case "BaseURL":this.url=a.textContent;break;case "ContentProtection":var b=new Qh(a);b.yb&&this.cd.push(b.yb);this.mb=this.mb||b.mb;break;case "SegmentBase":this.Vb=new Nh(a);break;case "SegmentTemplate":this.F=new Ph(a);break;case "SegmentList":this.Wb=
new Oh(a)}};Rh.prototype.Ga=function(a){a.F?this.F&&this.F.Ga(a.F):a.F=this.F;a.Vb?this.Vb&&this.Vb.Ga(a.Vb):a.Vb=this.Vb;a.Wb?this.Wb&&this.Wb.Ga(a.Wb):a.Wb=this.Wb;a.url=a.url||this.url;0===a.cd.length&&(a.cd=this.cd);a.mb=a.mb||this.mb};var Sh=function(a){this.id=new P("id");this.mimeType=new P("mimeType");this.codecs=new P("codecs");lf(a.attributes,this);Rh.call(this,a)};v(Sh,Rh);
Sh.prototype.Ga=function(a){Sh.C.Ga.call(this,a);a.mimeType.value=a.mimeType.value||this.mimeType.value;a.codecs.value=a.codecs.value||this.codecs.value};var Th=function(a,b){this.fi=new O("bandwidth");Sh.call(this,a);b.Ga(this);if(this.mimeType.value)switch(this.mimeType.value.toLowerCase()){case "application/ttml+xml":this.codecs.value="ttml";this.mimeType.value="text/mp4";break;case "text/vtt":this.codecs.value="webvtt"}"avc1"===this.codecs.value&&(this.codecs.value="avc1.4d401e")};v(Th,Sh);
var Uh=function(a,b){this.language=new P("lang");Sh.call(this,a);this.role=null;b.Ga(this);this.B=[];for(var c=a.firstElementChild;null!==c;c=c.nextElementSibling)"Representation"===c.nodeName?this.B.push(new Th(c,this)):"Role"===c.nodeName&&(this.role=c.getAttribute("value"))};v(Uh,Sh);
var Ih=function(a,b){this.duration=new gf("duration");this.start=new gf("start");lf(a.attributes,this);Rh.call(this,a);this.url=this.url||b.url;this.h=[];for(var c=a.firstElementChild;null!==c;c=c.nextElementSibling)switch(c.nodeName){case "AdaptationSet":this.h.push(new Uh(c,this))}};v(Ih,Rh);var Y=function(a){Q.call(this,a);this.ce=new Ma(5);this.Ye=!1;this.Zc=this.Vc.bind(this);this.ca=null;this.xc=[];this.Lg=[]};v(Y,Q);Y.prototype.a=y("cast.player.dash.Protocol");Y.prototype.cc=function(){Y.C.cc.call(this);null!==this.ca&&(clearTimeout(this.ca),this.ca=null)};var Vh=function(a){return ge.S(a)?"playready":he.S(a)?"widevine":null};
Y.prototype.updateLicenseRequestInfo=function(a){var b=this.ce.get(a.protectionSystem);b&&(a.headers={},a.headers["content-type"]="text/xml;charset=utf-8",a.url=b.url)};
var Wh=function(a,b,c){if(b){null!==b.va.value&&(c.va=b.va.value);var d=b.ie.value||1,e=new Ae(b.P.value||"0");c.P=parseInt(e.toString(),10)/d;var e=new Ae(e.toString()),f=b.g,g=b.Bc,h=0;g?h=g.length:f&&0<f.length&&(h=f.length);for(var l=0;l<h;l++){var n=g?g[l].duration:b.duration.value||0;g&&g[l].time&&(e=new Ae(g[l].time.toString()));var p={time:parseInt(e.toString(),10)/d,wb:new Ae(e.toString()),duration:n/d,url:f&&0<f.length?a.resolve(new E(f[l].media.value)).toString():null};c.g.push(p);e.add(n)}(d=
c.ab)||(f=e=d=null,g=!0,(h=b.Cd)&&h.Vh.value?(g=!1,d=h.Vh.value,h.ma.start&&h.ma.end&&(e=h.ma.start,f=h.ma.end)):(e=0,h&&h.ma.start&&h.ma.end&&(e=h.ma.start,f=h.ma.end,g=!1),b.mc.start&&b.mc.end&&(e=Math.min(e,b.mc.start),f=Math.max(f,b.mc.end),g=!1),null==f&&(f=2048)),d=g?null:{url:d?a.resolve(new E(d)).toString():null,ma:null!==e&&null!==f?{start:e,end:f}:null,data:null});c.ab=d}},Xh=function(a,b){return{duration:(b.duration.value||0)/(b.ie.value||1),url:a.resolve(new E(b.media.value)).toString(),
ba:b.ba.value?a.resolve(new E(b.ba.value)).toString():null}};
Y.prototype.Zf=function(a){if(a.Vd&&0!==a.Vd.length){this.ea="dynamic"===a.type.value;a.duration.value&&(this.duration=a.duration.value);var b;a:{b=a.Vd;var c=b[0];if(c.h[0].F){for(var d=[],e=[],f=0;f<b.length;f++){for(var g=b[f],h=g.duration.value,l=[],n=0;n<g.h.length;n++){var p=g.h[n].F;if(!p){A(this.a,"Multiple periods not using SegmentTemplate is not supported");b=[{start:c.start.value,duration:c.duration.value,Ud:null}];break a}var q=this.uri.resolve(new E(g.h[n].B[0].url)).toString(),q=new E(q);
e[n]=e[n]||0;var R=p,p=e[n],Ea={ga:0,P:0,g:[],url:null,F:null,ab:null};Wh(q,R,Ea);q=Xh(q,R);q={va:Ea.va,P:Ea.P,Zg:p,F:q};l.push(q);e[n]+=Math.round(h/q.F.duration)}d.push({start:g.start.value,duration:g.duration.value,Ud:l})}b=d}else b=[{start:c.start.value,duration:c.duration.value,Ud:null}]}this.xc=b;a=a.Vd[0].h;for(b=0;b<a.length;b++){e=a[b];c=e.B;d=c[0];f=d.mimeType.value;if(null===f){L(this.host,422,void 0,"No mime type in manifest",this.a);break}if(be(f))f=1;else if(ce(f))f=2;else if(de(e.role,
f))f=3;else continue;e={name:e.id.value,type:f,enabled:!1,Ha:!1,W:!0,index:-1,O:-1,B:[],language:e.language.value,mimeType:d.mimeType.value||"",codecs:d.codecs.value||"",role:e.role};for(f=0;f<c.length;f++){d=c[f];for(g=0;g<d.cd.length;g++)h=d.cd[g],(l=Vh(h.systemId))&&this.ce.set(l,h);d.mb&&(this.Ye=!0);h=this.uri.resolve(new E(d.url)).toString();g={ga:d.fi.value||0,id:d.id.value,P:0,g:[],url:h,va:0,F:null,ab:null};d.url&&"/"!==h[h.length-1]&&(h+="/");h=new E(h);Wh(h,d.Vb,g);(l=d.Wb)&&Wh(h,l,g);
d=d.F;l=g;d&&(Wh(h,d,l),l.F=Xh(h,d));e.B.push(g)}e.Ha=!0;this.h.push(e)}}else L(this.host,421,void 0,"No periods found in manifest",this.a)};
Y.prototype.Tb=function(a){if(a){var b=null!==this.ca,c=this.h;this.h=[];var d=(new DOMParser).parseFromString(a,"text/xml"),d=new Jh(d.firstChild);this.Zf(d);if(!this.Ye){var e=this.dd,f=this.ce.Ka();e.Uc=f;Ch(e)}this.ea&&(d=d.qj.value,null!==d&&(this.ca=setTimeout(this.Zc,1E3*d)));if(b)for(a=0;a<c.length;a++){b=this.h[a];d=c[a];b.enabled=d.enabled;b.O=d.O;b.Ha=d.Ha;for(e=0;e<b.B.length;e++)b.B[e].P=d.B[e].P;e=d.index;0>e||(e=e+d.B[0].va-b.B[0].va,0>e?(b.index=0,b.W=!0):(b.index=e,b.W=d.W))}else Y.C.Tb.call(this,
a)}else L(this.host,321,nf(this.sc))};Y.prototype.La=function(a){var b=this.h[a],b=b.B[b.O];return 0===b.g.length&&b.F?(a=this.duration,this.ea&&(a-=20),{start:0,end:a}):Y.C.La.call(this,a)};var Zh=function(a,b,c){c=Yh(a,b,c);a.Lg[b]!==c&&(a.h[b].W=!0);a.Lg[b]=c};
Y.prototype.seek=function(a,b){var c=this.h[a],d=c.B[c.O];if(0===d.g.length&&d.F){var e=this.La(a);b<e.start&&(b=e.start);b>e.end&&(b=e.end);e=Math.floor(b/d.F.duration);d=Math.ceil(this.duration/d.F.duration);c.index=e<d?e:d-1;Zh(this,a,c.index);return!0}return Y.C.seek.call(this,a,b)};Y.prototype.Qb=function(a){var b=this.h[a],c=b.B[b.O];if(0===c.g.length&&c.F){var d=b.index+1;return d<Math.ceil(this.duration/c.F.duration)?(b.index=d,Zh(this,a,b.index),!0):!1}return Y.C.Qb.call(this,a)};
var Yh=function(a,b,c){a=a.xc;for(var d=0;d<a.length-1&&!(c<a[d+1].Ud[b].Zg);d++);return d};Y.prototype.Ob=function(a){var b=this.h[a],c=b.B[b.O];return 0===c.g.length&&c.F?b.index===Math.ceil(this.duration/c.F.duration)-1:Y.C.Ob.call(this,a)};
Y.prototype.getSegmentInterval=function(a){if(this.uc(a))return{time:0,duration:0};var b=this.h[a],c=b.B[b.O];if(c.F){b=b.index;if(0>b)return{time:0,duration:0};0<c.g.length?(a=c.g[b].duration,c=c.g[b].time-c.P):(a=c.F.duration,c=b*a);return{time:c,duration:a}}return Y.C.getSegmentInterval.call(this,a)};
var $h=function(a,b){return a.replace(/\$Number(%0\d*[diuxXo]){0,1}\$/g,function(a){var d=a.indexOf("%0");if(0>d)return b;d=parseInt(a.substring(d+2,a.length-2),10);switch(a.substr(a.length-2,1)){case "x":return ke(b,16,d);case "X":return ke(b,16,d).toUpperCase();case "o":return ke(b,8,d);default:return ke(b,10,d)}})};
Y.prototype.updateSegmentRequestInfo=function(a,b){var c=this.h[a],d=c.B[c.O],e=c.index,f=this.uc(a);if(d.F){var g=d.F,h=null;1<this.xc.length&&(h=this.xc[Yh(this,a,e)].Ud[a],g=h.F);c=f?g.ba:g.url;c=c.replace(/\$RepresentationID\$/g,d.id);c=c.replace(/\$Bandwidth\$/g,d.ga.toString());f||(f=e+d.va,1<this.xc.length&&(f=e+h.va-h.Zg),c=$h(c,f),c=c.replace("$Time$",0<d.g.length?d.g[e].wb.toString():(e*g.duration).toString()));b.url=c}else{h=g=null;if(f)e=d.ab,c=e.url?e.url:d.url,e.ma&&(g=e.ma.start,h=
e.ma.end);else if(e<d.g.length)e=d.g[e],e.url?c=e.url:(c=d.url,g=e.offset,h=e.offset+e.size-1);else{L(this.host,423,void 0,"Invalid segment info in manifest.",this.a);return}b.url=c;b.headers={};null!==g&&null!==h&&(b.headers.Range="bytes="+g+"-"+h)}};
Y.prototype.processSegment=function(a,b,c){var d=this.h[a],e=d.B[d.O],f=b.data;if(this.Ye&&this.dd){var g;g=W(f,1886614376,void 0,!0);if(g=null===g?null:{systemId:g.sg,url:null,zd:null,Kd:null,Je:0}){var h=Vh(g.systemId);h&&(this.ce.set(h,g),g=this.dd,h=this.ce.Ka(),g.Uc=h,Ch(g),this.Ye=!1)}}if(b.nc)if(d=(d=W(f,1836019574))?eh(d):null,null===d)L(this.host,322,void 0,"no init",this.a);else{if(!e.F&&0===e.g.length){g=0;b.nc&&e.ab&&e.ab.ma&&(g=e.ab.ma.start);b=g;f=(f=W(f,1936286840))?f.If(b):null;if(!f){A(this.a,
"no segments");return}e.g=f}cg(c,d,{time:this.getSegmentInterval(a).time,duration:0},0,!1)}else b=this.getSegmentInterval(a),e=e.P,1<this.xc.length&&(e=this.xc[Yh(this,a,d.index)],e=e.Ud[a].P-e.start),cg(c,f,b,b.time+e,d.W),d.W=!1};Y.prototype.we=function(){return 1};var ai=function(a,b,c){S.call(this,1836019558);this.o={dj:a,gi:b,ej:c}};v(ai,S);ai.prototype.w=function(){(new Vg(0)).l(this.c);(new bi(this.o)).l(this.c)};var bi=function(a){S.call(this,1953653094);this.o=a};v(bi,S);bi.prototype.w=function(){(new Tg(this.o.dj)).l(this.c);(new Fg(this.o.gi)).l(this.c);(new Ug(this.o.ej)).l(this.c)};var ci=function(a,b,c){S.call(this,1836019558);this.rd=b;this.Ui=a;this.Ze=c};v(ci,S);
ci.prototype.w=function(){for(var a=sh(U(this.Ui),void 0);0<a.length;){var b=a.shift();switch(b.getName()){case 1953653094:(new di(b,this.rd,this.Ze)).l(this.c);break;default:b.l(this.c)}}};var di=function(a,b,c){S.call(this,1953653094);this.rd=b;this.Vi=a;this.Ze=c};v(di,S);
di.prototype.w=function(){for(var a=sh(U(this.Vi),void 0),b=null,c=!1,d=!1;0<a.length;){var e=a.shift();switch(e.getName()){case 1970628964:e instanceof ih&&(b=e);break;case 1952868452:var f=e;f.Mb&32&&(this.Ze=!1);ah(U(f),0,1);e.l(this.c);break;case 1953658222:(new ei(e,this.Ze)).l(this.c);break;case 1935763823:c=!0;e.l(this.c);break;case 1935763834:d=!0;e.l(this.c);break;default:e.l(this.c)}}(new Fg(this.rd)).l(this.c);b&&(d||(new Gg(b.Sf?0:8,b.Ve)).l(this.c),c||(new Eg(0)).l(this.c))};
var ei=function(a,b){this.Sh=!1;this.Df=null;var c=a.Mb;c&1||(this.Sh=!0,c|=1);!b||c&1024||c&4||(c|=4,this.Df=0);T.call(this,1953658222,a.xa,c);this.Wi=a};v(ei,T);ei.prototype.w=function(){var a=new Zg(U(this.Wi));N(this.c,I(a));this.Sh&&N(this.c,0);null!==this.Df&&N(this.c,this.Df);M(this.c,a.buffer.subarray(a.offset))};var fi=function(a,b,c){this.Ni=a;this.sampleRate=b;this.Va=c},gi=function(a,b,c,d){this.width=a;this.height=b;this.Dc=c;this.Yd=d},hi=function(a,b,c,d,e,f){this.xb=a;this.ac=b;this.li=c;this.Ei=d;this.audio=e;this.video=f},ii=function(a){S.call(this,1836019574);this.o=a};v(ii,S);ii.prototype.w=function(){(new Sg(this.o.ac)).l(this.c);var a=this.o.xb;a&&a.zd&&(new Rg(a.systemId,a.zd)).l(this.c);(new ji(this.o)).l(this.c);(new ki(this.o)).l(this.c)};
var ki=function(a){S.call(this,1953653099);this.o=a};v(ki,S);ki.prototype.w=function(){var a=0,b=0,c=this.o.video;c&&(a=c.width,b=c.height);(new Pg(a,b)).l(this.c);(new li(this.o)).l(this.c)};var li=function(a){S.call(this,1835297121);this.o=a};v(li,S);li.prototype.w=function(){(new Og(this.o.ac)).l(this.c);(new Ng(this.o.Ei)).l(this.c);(new mi(this.o)).l(this.c)};var mi=function(a){S.call(this,1835626086);this.o=a};v(mi,S);mi.prototype.w=function(){(new ni(this.o)).l(this.c)};
var ni=function(a){S.call(this,1937007212);this.o=a};v(ni,S);ni.prototype.w=function(){(new oi(this.o)).l(this.c);this.o.video&&(new Jg).l(this.c)};var oi=function(a){T.call(this,1937011556,0,0);this.o=a};v(oi,T);oi.prototype.w=function(){N(this.c,1);(this.o.video?new pi(this.o):new qi(this.o)).l(this.c)};var qi=function(a){S.call(this,a.xb?1701733217:1836069985);this.o=a};v(qi,S);
qi.prototype.w=function(){M(this.c,[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0]);N(this.c,this.o.audio.sampleRate<<16);(new Hg(this.o.audio.Ni,this.o.audio.Va)).l(this.c);this.o.xb&&(new ri(this.o)).l(this.c)};var pi=function(a){S.call(this,a.xb?1701733238:1635148593);this.o=a};v(pi,S);
pi.prototype.w=function(){M(this.c,[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);var a=this.o.video.width;M(this.c,[a>>8,a]);a=this.o.video.height;M(this.c,[a>>8,a]);M(this.c,[0,72,0,0,0,72,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);(new Ig(this.o.video.Dc,this.o.video.Yd)).l(this.c);this.o.xb&&(new ri(this.o)).l(this.c)};var ji=function(a){S.call(this,1836475768);this.o=a};v(ji,S);ji.prototype.w=function(){(new Qg(!this.o.video)).l(this.c)};
var ri=function(a){S.call(this,1936289382);this.o=a};v(ri,S);ri.prototype.w=function(){(new Mg(this.o.li)).l(this.c);(new Lg(1667591779,0)).l(this.c);(new si(this.o)).l(this.c)};var si=function(a){S.call(this,1935894633);this.o=a};v(si,S);si.prototype.w=function(){var a=this.o.xb;a&&a.Kd&&(new Kg(a.Je,a.Kd)).l(this.c)};var ti=function(a,b,c,d,e){ii.call(this,new hi(a,b,1836069985,1936684398,new fi(c,d,e),null))};v(ti,ii);
var ui=function(a,b,c,d,e,f){ii.call(this,new hi(a,b,1635148593,1986618469,null,new gi(c,d,e,f)))};v(ui,ii);var vi=function(a,b){Wd.call(this,a);this.Ae=new jg(b)};v(vi,Wd);var wi=function(a,b,c,d){this.ei=a.match("mp4a.67")?103:64;this.Bg=b;this.Qa=c;this.Wc=d;this.Ff=null;this.mg=0;this.td=null};wi.prototype.a=y("cast.player.hls.AacParser");
var xi=function(a){for(var b=new vi(a.Bg,a.Wc),c=[],d=null,e=a.Qa;b.offset<b.buffer.length;){var d=b,f=d.Ae.append(e,d.buffer,d.offset);d.offset+=f;d=b.buffer.subarray(b.offset);if(255!=d[0]||240!=(d[1]&240))d=null;else{var f=((d[3]&3)<<11)+(d[4]<<3)+((d[5]&224)>>5),g=d[2]>>2&15,h=d[1]&1?7:9;b.offset+=h;d={profile:(d[2]>>6&3)+1,sampleRate:Bg[g],ji:(d[2]<<2&4)+(d[3]>>6&3),zi:f-h}}if(d)c.push(De(b,d.zi)),e+=1024/d.sampleRate;else return Kb(a.a,"Neither ID3 nor ADTS header was found at "+b.buffer.subarray(b.offset).byteOffset),
!1}if(null===d)return Kb(a.a,"No ADTS header was found."),!1;b=Dg(d.profile,d.sampleRate,d.ji);if(null===b)return Kb(a.a,"Cannot generate audio codec private data."),!1;a.Ff=c;a.mg=d.sampleRate;a.td=b;return!0};wi.prototype.Sg=function(){return this.Qa};var yi=function(a,b,c){z.call(this);this.b=a;this.pb=c;this.$h=b;this.la=null;this.qb=new mg;this.xh=this.Ri.bind(this);this.Pg=this.si.bind(this);this.og=this.Te=null;this.Mh=-1;this.Td=null;this.f=new D;Bc(this.f);C(this.f,"success",this.Qi,!1,this);C(this.f,"error",this.sh,!1,this);C(this.f,"timeout",this.sh,!1,this);this.R=new Nd;this.R.setResponse=this.Tg.bind(this);this.Jd=this.Zd=this.eh=this.sb=this.vd=this.xg=null;this.Yf=!1;this.md=!0;this.wa=this.Nb=this.aa=null};v(yi,z);k=yi.prototype;
k.a=y("cast.player.hls.Adaptation");k.G=function(){this.reset();this.f.M()};k.reset=function(){this.md=!0;this.Nb=this.aa=this.Td=null;this.f.abort();this.Zd&&(this.Zd.cancel(),this.Zd=null);this.vd&&(this.vd.cancel(),this.vd=null);null!==this.wa&&clearTimeout(this.wa)};k.Ri=function(a){this.Zd=null;this.Jd=a;this.wa=setTimeout(this.Pg,0)};k.Qi=function(a){this.Tg(Mc(a.target))};
k.Tg=function(a){a?(a=new Uint8Array(a),this.b.processLicense&&(a=this.b.processLicense(a)),this.Zd=this.b.Lf?new Ag(this.b,this.xh,a,this.xg):new lg(this.b,this.xh,a)):L(this.b,313)};k.sh=function(){L(this.b,314,new Od(this.R.url,this.f.tb,Kc(this.f),this.f.getAllResponseHeaders(),Mc(this.f)))};k.si=function(){var a=this.Td.info,b=this.Td.data;a&&a.Hd&&this.Jd&&b&&(B(this.a,"decrypt segment"),this.vd=new ig(this.b,this.$d.bind(this,a),this.Jd,a.Hd,b),this.wa=this.Td=null)};
k.$d=function(a,b){B(this.a,"process segment");this.vd=null;var c=new Uint8Array(b),d;if(this.pb)d=new yg(c,this.b.processMetadata,a.ta);else{d=new wi(this.la.Eb.codecs,c,a.ta,this.b.processMetadata);c=d;if(xi(c)){var e=new $g(2*c.Bg.length);(new ti(null,1E6,c.ei,c.mg,c.td)).l(e);(new ai(1024E6/c.mg,1E6*c.Qa,c.Ff)).l(e);(new Wg(c.Ff)).l(e);c=df(e);qh(c)}else c=null;if(!c){L(this.b,315);return}}if(a.vf||a.W)this.aa=null,a.W=!1;var e={time:a.ta,duration:a.duration},f=d.Sg();if(d=null===this.aa&&Infinity!==
f)B(this.a,"start: "+f),this.aa=f,this.Nb=e,this.$h&&(f=this.$h,f.Y&&f.Y.W(this.aa,e));f=this.og;this.og=null;cg(f,c,e,this.aa||0,d)};
var Ai=function(a){a.b.Lf&&!a.xg?cast.__platform__.cryptokeys.getKeyByName("CKP").then(function(a){this.xg=a;zi(this)}.bind(a)):zi(a)},zi=function(a){a.Jd=null;a.R.url=a.sb;a.R.skipRequest=!1;if(a.b.updateLicenseRequestInfo&&(a.b.updateLicenseRequestInfo(a.R),a.R.skipRequest))return;a.f.ne=a.R.withCredentials;a.f.Gb=Math.max(0,a.R.timeoutInterval);a.f.send(a.R.url,void 0,void 0,a.R.headers)};k=yi.prototype;
k.processSegment=function(a,b,c){this.og=c;this.Td={data:b,info:a};(c=a.hh)?this.sb===c&&null!==this.Jd?this.wa=setTimeout(this.Pg,0):(this.sb=c,Ai(this)):this.$d(a,b.buffer)};k.updateSegmentRequestInfo=function(a){var b=pg(this.qb);if(b){a.ed=b;this.md&&(b.W=!0,this.md=!1);var c=b.Gg;c&&(a.headers={},a.headers.Range="bytes="+c.start+"-"+c.end);a.url=b.url}};k.getSegmentInterval=function(){var a=pg(this.qb);return a?{time:a.ta,duration:a.duration}:{time:0,duration:0}};k.La=function(){return this.qb.La()};
k.Ob=function(){return this.qb.Ob()};var Bi=function(a){var b=pg(a.qb);b.pd&&b.pd.Ke!==a.eh&&(a.Yf=!0)};yi.prototype.Qb=function(){var a=this.qb.next();a&&Bi(this);return a};yi.prototype.seek=function(a){(a=this.qb.seek(a))&&Bi(this);return a};yi.prototype.bg=function(){Ci(this,this.la.ua)};var Ci=function(a,b){a.qb.update(b);a.Te&&(rf(a.Te),a.Te=null)};k=yi.prototype;
k.Xe=function(a,b,c){this.Mh=a;this.Te=b;this.md=!0;this.la&&this.la.ua&&this.la.ua.ea&&this.la.cc();this.la=c;c.ua?Ci(this,c.ua):c.load()};k.getQualityLevel=function(){return this.Mh};k.W=function(a,b){this.md=!0;this.aa=a;this.Nb=b};
k.Rc=function(){var a=pg(this.qb);if(!a.pd||!a.Hd)return null;this.Yf=!1;this.eh=a.pd.Ke;var b=a.pd,a=a.Hd,c=new Uint8Array(bh),d,e=new Jd;zd(e,1,1);d=le(b.Ke);Ad(e,2,String.fromCharCode.apply(null,d));zd(e,3,b.$i);zd(e,4,b.mi);d=new Fd;e=new Uint8Array(Ed(d,e));d=new $g;(new Rg(he,e)).l(d);d=df(d);for(e=0;e<d.length;e++)c[196+e]=d[e];b=le(b.Ke);for(e=0;e<b.length;e++)c[530+e]=b[e];for(e=0;e<a.length;e++)c[548+e]=a[e];return c};k.uc=function(){return this.Yf};
var Di=function(a){yi.call(this,a,null,!1)};v(Di,yi);Di.prototype.Qb=function(){return null===this.aa||null===this.Nb?!1:Di.C.Qb.call(this)};Di.prototype.seek=function(a){return null===this.aa||null===this.Nb?!1:Di.C.seek.call(this,a)};Di.prototype.processSegment=function(a,b,c){var d={time:a.ta,duration:a.duration},e=!1;if(null===this.aa||null===this.Nb)b=new Uint8Array(0);else if(this.md||a.W)d=this.Nb,e=!0;cg(c,b,d,this.aa||0,e)};var Z=function(a,b){this.b=a;this.pb=1!==b;this.pa=this.se=this.Nd=null;this.rc=new yi(a,this,this.pb);this.Y=this.ka=null};Z.prototype.load=function(a){this.se=this.Nd=a;this.pa=new xg(this.b,this,this,this.pb);this.pa.load()};Z.prototype.cc=function(){this.rc.M();this.ka&&(this.ka.M(),this.ka=null);this.Y&&(this.Y.M(),this.Y=null);this.pa&&(this.pa.M(),this.pa=null)};
Z.prototype.onManifestReady=function(){for(var a=this.pa.cb,b=0;b<a.length;b++){var c=a[b].Eb;if(c.Pf&&be(c.mimeType)){this.enableStream(b+1,!0);break}}if(this.b.onManifestReady)this.b.onManifestReady();this.Nd.onManifestReady();this.Nd=null};Z.prototype.getStreamCount=function(){return this.pa.cb.length+1};Z.prototype.getStreamCount=Z.prototype.getStreamCount;
Z.prototype.enableStream=function(a,b){if(0<a){var c=this.pa.cb[a-1],d=c.Eb.mimeType;be(d)?(this.ka&&(this.ka.M(),this.ka=null),b&&(this.ka=new yi(this.b,null,!1),this.ka.la=c)):ka(d,"text/")&&(this.Y&&(this.Y.M(),this.Y=null),b&&(this.Y=new Di(this.b),this.Y.la=c,this.Y.W(this.rc.aa,this.rc.Nb)))}};Z.prototype.enableStream=Z.prototype.enableStream;Z.prototype.isStreamEnabled=function(a){return null!==Ei(this,a)};Z.prototype.isStreamEnabled=Z.prototype.isStreamEnabled;
var Ei=function(a,b){var c;0===b?c=a.rc:(c=a.pa.cb[b-1],c=null!==a.ka&&a.ka.la===c?a.ka:null!==a.Y&&a.Y.la===c?a.Y:null);return c};Z.prototype.getQualityLevel=function(a){return Ei(this,a).getQualityLevel()};Z.prototype.getQualityLevel=Z.prototype.getQualityLevel;
Z.prototype.getStreamInfo=function(a){var b=[],c,d;if(0===a){b=[];c=this.pa.$b;for(a=0;a<c.length;a++)b.push(c[a].Eb.ga);c=this.pa.$b[0].Eb;d=c.codecs;if(this.ka){var e=c.codecs.split(",");for(a=0;a<e.length;a++)if(0===e[a].indexOf("avc1.")){d=e[a];break}}}else c=this.pa.cb[a-1].Eb,b.push(c.ga),d=c.codecs;return new Pd(d,c.mimeType,b,c.language,c.name,null)};Z.prototype.getStreamInfo=Z.prototype.getStreamInfo;k=Z.prototype;k.Xe=function(a,b,c){Ei(this,a).Xe(b,c,0===a?this.pa.$b[b]:this.pa.cb[a-1])};
k.reset=function(a){Ei(this,a).reset()};k.La=function(a){return Ei(this,a).La()};k.bg=function(a){(this.rc.la===a?this.rc:null!==this.ka&&this.ka.la===a?this.ka:null!==this.Y&&this.Y.la===a?this.Y:null).bg();if(this.se){var b=a.ua.Re;switch(b){case "widevine":a=this.se;a.Uc=[b];Ch(a);break;case "aes_128":this.b.Lf&&(b="aes_128_ckp",a.ua.Re=b);se(b,2);break;case "none":break;default:A(ae,"Unexpected HLS protection type")}this.se=null}};k.updateLicenseRequestInfo=function(){};
k.Rg=function(){var a=this.rc.la;return a?a.duration:-1};k.seek=function(a,b){return Ei(this,a).seek(b)};k.Qb=function(a){return Ei(this,a).Qb()};k.Ob=function(a){return Ei(this,a).Ob()};k.getSegmentInterval=function(a){return Ei(this,a).getSegmentInterval()};k.uc=function(a){return Ei(this,a).uc()};k.Rh=function(){};k.Rc=function(a){return Ei(this,a).Rc()};k.updateSegmentRequestInfo=function(a,b){Ei(this,a).updateSegmentRequestInfo(b)};
k.processSegment=function(a,b,c){b.nc?cg(c,b.data,{time:0,duration:0},0,!1):Ei(this,a).processSegment(b.ed,b.data,c)};k.we=function(){return 2};y("cast.player.smooth");var Hi=function(a){this.ea=new ff("IsLive");this.ac=new O("TimeScale");for(this.duration=new O("Duration");a;){if("SmoothStreamingMedia"===a.nodeName){lf(a.attributes,this);break}a=a.nextElementSibling}this.fe=[];this.xb=null;if(a)for(this.ac.value||(this.ac.value=1E7),a=a.firstElementChild;null!=a;a=a.nextElementSibling)if("StreamIndex"===a.nodeName){var b=new Fi(a,this.ac.value);0<b.Pa.length&&this.fe.push(b)}else"Protection"===a.nodeName&&(this.xb=new Gi(a.firstElementChild))},Ii=function(a,b){P.call(this,
a,b)};v(Ii,P);Ii.prototype.parse=function(a){switch(a){case "H264":case "AVC1":this.value="avc1.4d40";break;case "AACL":this.value="mp4a.40.2";break;case "EC-3":this.value="mp4a.a6";break;case "AACH":this.value="mp4a.40.5";break;case "TTML":this.value="ttml";break;default:this.value=null}};var Ji=function(){this.name="CodecPrivateData";this.Yd=this.Dc=null};v(Ji,ef);Ji.prototype.parse=function(a){a=a.split("00000001");3===a.length&&(this.Dc=le(a[1]),this.Yd=le(a[2]))};
var Ki=function(){this.name="CodecPrivateData";this.value=null};v(Ki,ef);Ki.prototype.parse=function(a){a&&(this.value=le(a))};var Li=function(a){this.ga=new O("Bitrate");this.format=new Ii("FourCC",a)},Mi=function(a){Li.call(this,"ttml");lf(a.attributes,this)};v(Mi,Li);var Ni=function(a){Li.call(this,"avc1.4d401e");this.width=new O("MaxWidth");this.height=new O("MaxHeight");this.Va=new Ji;lf(a.attributes,this)};v(Ni,Li);
var Oi=function(a){Li.call(this,"mp4a.40.2");this.sampleRate=new O("SamplingRate");this.ki=new O("Channels");this.Va=new Ki;lf(a.attributes,this)};v(Oi,Li);
var Fi=function(a,b){this.type=new P("Type");this.url=new P("Url");this.name=new P("Name");this.language=new P("Language");lf(a.attributes,this);this.Fb=0;switch(this.type.value){case "video":this.Fb=2;break;case "audio":this.Fb=1;break;case "text":this.Fb=3}this.g=[];this.Pa=[];for(var c=new Ae("0"),d=a.firstElementChild;null!=d;d=d.nextElementSibling)if("QualityLevel"===d.nodeName){var e=d,f=void 0;switch(this.Fb){case 2:f=new Ni(e);break;case 1:f=new Oi(e);break;case 3:f=new Mi(e);break;default:f=
null}f&&f.format.value&&this.Pa.push(f)}else if("c"===d.nodeName){var g=d,e=c,f=b,h=g.attributes.getNamedItem("t");h&&e.reset(h.value);var h=null,l=-1;g.attributes.getNamedItem("d")&&(h=parseInt(g.attributes.d.value,10),l=h/f);for(var g=(g=g.attributes.getNamedItem("r"))?parseInt(g.value,10):1,n=0;n<g;n++)this.g.push({time:parseInt(e.toString(),10)/f,duration:l,wb:new Ae(e.toString()),offset:0,size:0,url:null}),null!==h&&e.add(h)}c=this.g.length-1;for(d=0;d<c;d++)if(h=this.g[d],f=this.g[d+1],0>h.duration){e=
h;f=f.wb;h=h.wb;if(f.X==h.X)f=0;else{if(!Be(f,h))throw Error("Value must be smaller than the current value");for(var g=l=0,n=1,p=0;p<f.X.length;p++)var q=parseInt(f.X.charAt(f.X.length-1-p),10)-(p<h.X.length?parseInt(h.X.charAt(h.X.length-1-p),10):0)-g,g=0>q?1:0,l=l+(g?10+q:q)*n,n=10*n;if(g)throw Error("Value must be smaller than the current value");if(9007199254740992<l)throw Error("Difference lost precision");f=l}e.duration=f/b}},Gi=function(a){this.systemId=new kf("SystemID");lf(a.attributes,this);
this.yb=null;this.systemId.value&&ge.S(this.systemId.value)&&(this.yb=qf(a.textContent))};var Pi=function(a){Q.call(this,a);this.be=null;this.gb=1E7};v(Pi,Q);Pi.prototype.a=y("cast.player.smooth.Protocol");var Qi=/{bitrate}|{Bitrate}/,Ri=/{start time}|{start_time}/,Si=function(a,b,c,d,e,f){return{name:e,type:a,enabled:!1,mimeType:b,W:!0,B:[],language:d,Ha:void 0===f?!0:!1,codecs:c,index:-1,O:-1}},Ti=function(a,b,c,d,e){return{url:a||"",ga:b,P:c,g:d,F:null,ab:e?{url:null,ma:null,data:e}:null}};
Pi.prototype.Zf=function(a){var b=a.xb;if(b){b=b.yb;if(null===b){Ui(this,"invalid protection info");return}this.be=b}a.ac.value&&(this.gb=a.ac.value);a.duration.value&&(this.duration=a.duration.value/this.gb);a.ea.value&&(this.ea=a.ea.value);for(var b=Infinity,c=0;c<a.fe.length;c++){var d=a.fe[c];(2===d.Fb||1===d.Fb)&&d.g[0].time<b&&(b=d.g[0].time)}for(var e=[],c=0;c<a.fe.length;c++){d=a.fe[c];if(0===d.Pa.length){Ui(this,"no quality levels");return}var f=d.Pa[0].format.value;if(null===f){Ui(this,
"unknown media format");return}var g=null;if(2===d.Fb)a:{var h=f,g=b,l=d.Pa[0];if(null===l.Va.Dc)Ui(this,"no sps"),g=null;else{l=l.Va.Dc[3].toString(16);1===l.length&&(l="0"+l);for(var h=Si(2,"video/mp4",h+l.toLowerCase(),d.language.value,d.name.value),n=0;n<d.Pa.length;n++){l=d.Pa[n];if(null===l.ga.value||null===l.width.value||null===l.height.value||null===l.Va.Dc||null===l.Va.Yd){Ui(this,"invalid video quality");g=null;break a}var p=this.be,q=this.gb,R=l.width.value,Ea=l.height.value,Wc=l.Va.Dc,
$e=l.Va.Yd,ac=new $g;(new ui(p,q,R,Ea,Wc,$e)).l(ac);h.B.push(Ti(d.url.value,l.ga.value,g,d.g,df(ac)))}g=h}}else if(1===d.Fb)a:{g=f;l=b;h=Si(1,"audio/mp4",g,d.language.value,d.name.value);for(n=0;n<d.Pa.length;n++){p=d.Pa[n];if(null===p.ga.value||null===p.sampleRate.value){Ui(this,"invalid audio quality");g=null;break a}(q=p.Va.value)||(q=p.ki.value,q=Dg(2,p.sampleRate.value,null!==q?q:2));Wc=q;if(null===Wc){Ui(this,"invalid audio codec private data");g=null;break a}q=this.be;R=this.gb;Ea=p.sampleRate.value;
$e="mp4a.a6"===g?166:64;ac=new $g;(new ti(q,R,$e,Ea,Wc)).l(ac);h.B.push(Ti(d.url.value,p.ga.value,l,d.g,df(ac)))}g=h}else if(3===d.Fb){g=b;l=Si(3,"text/mp4",f,d.language.value,d.name.value,!1);for(h=0;h<d.Pa.length;h++)l.B.push(Ti(d.url.value,d.Pa[h].ga.value||0,g,d.g,null));g=l}g&&("mp4a.a6"===f?e.push(g):this.h.push(g))}Array.prototype.push.apply(this.h,e)};var Vi=function(a){var b=a.B[0].g,c=b.length-1E4;0<c&&a.index>=c&&(b.splice(0,c),a.index-=c)},Ui=function(a,b){L(a.host,431,void 0,b,a.a)};
k=Pi.prototype;k.Tb=function(a){if(a){var b=(new DOMParser).parseFromString(a,"text/xml"),b=new Hi(b.firstChild);this.Zf(b);Pi.C.Tb.call(this,a);this.be&&(a=this.dd,a.Uc=["playready"],Ch(a))}else L(this.host,331,nf(this.sc))};k.updateLicenseRequestInfo=function(a){a.headers={};a.headers["content-type"]="text/xml;charset=utf-8";a.url=this.be.url};k.Rc=function(a){a=this.h[a];a.Ha=!1;return a.B[a.O].ab.data};
k.updateSegmentRequestInfo=function(a,b){var c=this.h[a],d=c.index,c=c.B[c.O],e=c.url,e=e.replace(Qi,c.ga.toString()),e=e.replace(Ri,c.g[d].wb.toString());b.url=this.uri.resolve(new E(e)).toString().toString()};
k.processSegment=function(a,b,c){var d=this.h[a],e=this.getSegmentInterval(a),f=b.data;if(b.nc)cg(c,f,{time:e.time,duration:0},0,!1);else{if(this.ea){a=this.h[a];var g=a.B[a.O].g,h;h=this.gb;var l=W(f,1970628964,gh,!0);h=l?l.If(h):null;if(null===h||0===h.length)A(this.a,"no new segments");else{if(0!==h.length){for(var l=h[0].time,n=0;n<g.length;n++){var p=g[n].time;if(p>l||.3>Math.abs(p-l)){g.splice(n,g.length-n);break}}for(n=0;n<h.length;n++)g.push(h[n])}Vi(a)}if(b.headers&&(b=b.headers.match('ChildTrack="([^"]*)"'))){b=
b[1].split(/,|;/);for(a=0;a<b.length;a++)if(g=b[a].match("([^=]*)=([0-9]*)"))for(h=g[1],l=0;l<this.h.length;l++)if(h===this.h[l].name){h=this.h[l].B[0].g;g=g[2];l=parseInt(g,10)/this.gb;(0===h.length||h[h.length-1].time<l)&&h.push({time:l,duration:0,wb:new Ae(g),offset:0,size:0,url:null});break}for(a=0;a<this.h.length;a++)Vi(this.h[a])}}a=d.index;b=d.B[d.O];g=b.g;if(3===d.type)f=(f=W(f,1835295092))?U(f):null;else{a=parseInt(g[a].wb.toString(),10);g=2===d.type;h=sh(f);l=new $g(f.byteLength+1024);n=
null;for(f=0;0<h.length;)switch(p=h.shift(),p.getName()){case 1836019558:n=W(U(p),1970628964,jh,!0);(new ci(p,a,g)).l(l);break;case 1835295092:var q=null;n&&(q=n.lg?n.lg:new Uint8Array([]));f=q?q.length:0;(new Wg(q?[q,U(p)]:[U(p)])).l(l);break;default:p.l(l)}a=df(l);qh(a,f);f=a}null===f?L(this.host,332,void 0,"no media data",this.a):(cg(c,f,e,e.time+b.P,d.W),d.W=!1)}};k.we=function(){return 3};u("cast.player.api.CreateDashStreamingProtocol",function(a){xe(1);return new Y(a)});u("cast.player.api.CreateHlsStreamingProtocol",function(a,b){xe(2);return new Z(a,b)});u("cast.player.api.CreateSmoothStreamingProtocol",function(a){xe(3);return new Pi(a)}); }).call(window);
