<html>
    <head>
        <title>Fox Screeners</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="UTF-8">
        <link rel="stylesheet" href="css/custom.css" />
        <script type="text/javascript" src="js/flow-controller.js"></script>
        <script type="text/javascript" src="js/bookmark.js"></script>
        <script type="text/javascript" src="js/player-caf.js"></script>
        <!-- http://www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js -->
        <!-- <script type="text/javascript" src="js/cast_receiver_framework.js"></script>  -->
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script> -->
		<script type="text/javascript" src="http://www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js"></script>
    </head>
    <body>
        <div id="Error" class="error" state="off">
            <h1>Error</h1>
            <p>No receiver</p>
        </div>
        <div id="WatermarkHss"></div>
        <cast-media-player id="player"></cast-media-player>
        <script>
            const context = cast.framework.CastReceiverContext.getInstance();
            const player = new caf.Player(context);
            let options = new cast.framework.CastReceiverOptions();
            // options.useLegacyDashSupport = true;
            context.start(options);
        </script>
        <script>
            //host is the element that holds the shadow root:
            var style = document.createElement('style')
            var host = document.getElementById('player');
            style.innerHTML = `
                .mediaElement::cue {
                    font-family: Arial;
                    font-size: 1em;
                    background:transparent !important;
                    text-shadow: 2px 2px 2px black;
                }
                .player[contenttype="video"] .metadataPlaceHolder {
                    padding-right: 110px;
                }
                .player[contenttype="video"] #castControlsSeekablePlayed {
                    visibility: hidden !important;
                }
                .player[contenttype="video"] #castControlsSeekable {
                    visibility: hidden !important;
                }
                .player[islive="true"]:not([state="loading"]) #castControlsProgress {
                    background-color: transparent;
                }
                .player[islive="true"] #castControlsCurTime {
                    visibility: hidden !important;
                }
                .player[islive="true"] #castControlsTotalTime {
                    visibility: hidden !important;
                }
            `
            host.shadowRoot.appendChild(style);
        </script>
    </body>
</html>
